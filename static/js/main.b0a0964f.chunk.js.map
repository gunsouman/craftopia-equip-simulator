{"version":3,"sources":["components/equipTable.js","components/enchantTable.js","components/equipSelector.js","App.js","components/materialTreeSection.js","components/enchantDetailSection.js","reportWebVitals.js","index.js"],"names":["items","require","EQUIP_COLUMNS","Config","TABLE_LIMIT","forwardRef","props","ref","originEquips","React","useState","filterdEquips","setFilterdEquips","slice","equips","setEquips","column","type","sortStatus","setSortStatus","overEquip","setOverEquip","useImperativeHandle","updateEquipList","equip_list","className","onScroll","e","target","scrollHeight","scrollTop","offsetHeight","concat","length","map","onClick","_filterdEquips","sortBy","reverse","new_equips","changeSorting","equip","i","style","row","selectEquip","closeEquipModal","onMouseOver","target_equip","origin_material","material_tree","_material_tree","num","materials","check_material","material","parent_name","parent_num","Object","keys","material_name","_material","total_num","get_origin_materials","name","dom","key","hoverEquip","onMouseOut","j","accessor","ENCHANTMENT_COLUMNS","RARELITY_INFOS","originEnchants","filterdEnchants","setFilterdEnchants","enchants","setEnchants","targetEnchant","setTargetEnchant","useEffect","sectionDom","tbodyDom","mouseMove","index","call","closest","children","indexOf","document","querySelector","left","window","scrollX","offsetLeft","scrollLeft","clientX","top","scrollY","offsetTop","clientY","display","datas","value","skills","skill_name","filter","n","push","_filterdEnchants","sort_obj","new_enchants","onMouseMove","onMouseEnter","enchant","selected","equip_part","enchantments","selectEnchant","closeEnchantModal","EquipSelector","state","isEquipOpen","isEnchantOpens","targetEquip","searchEquipText","searchEnchantTexts","timeOutId","frame_position","parent","equips_list","enchantment_list","openEquipModal","bind","handleEquipChange","onClickHandler","equipTableRef","createRef","enchantTableRef","_","enchantTableDom","enchantStatus","this","setState","updateStatus","equipPartRefs","current","closeAllModal","currentState","_enchantTable","setEnchantTable","enchant_table","filterd_equips_list","_searchEnchantTexts","filterd_enchant_list","enchantment","filtered_equips_list","equipTableDom","data","filtered_enchantment_list","element","nativeEvent","offsetParent","clientHeight","id","target_enchant","enchantDom","enchantInfoBalloon","position","zIndex","maxWidth","MaterialInfo","atk","matk","def","aspd","clearEquip","autoComplete","size","placeholder","onChange","onFocus","setEquipTable","clearEnchant","handleEnchantChange","openEnchantModal","mouseOver","mouseOut","Component","EQUIP_LABELS","STATUS_LABELS","INPUT_STATUS_LABELS","UNIQUE_LABELS","EQUIP_STATUS_KEY_LABELS","STATUS_RANGES","EQUIP_PARTS","head_equips","body_equips","glider_equips","accessory_equips","other_equips","shield_equips","one_h_sword_equips","two_h_sword_equips","spear_equips","bow_equips","gun_equips","rod_equips","tool_equips","ENCHANT_CONVERTER","エンチャント名","ATK","ATK割合","MATK","MATK割合","DEF","DEF割合","最大スタ","最大スタ割合","最大マナ","最大マナ割合","最大ライフ","最大ライフ割合","最大満腹度","最大満腹度割合","移動速度","空中速度","ASPD","アイテムCD","スキルCD","物理クリダメ","物理クリ確率","魔法クリダメ","魔法クリ確率","マナ自然回復量","スタミナ自然回復量","満腹度消費量","old_key","new_key","assign","enchant_column","where_to_equip","equip_parts","code","title","options","target_json_name","json_datas","eval","json_data","EQUIP_STATUS_KEY","EQUIP_STATUS_LABEL","list","status","life","stamina","mana","hunger","mv","amv","item_cd","skill_cd","crit_per","crit_dmg","mcrit_per","mcrit_dmg","mana_recovery_per","stamina_recovery_per","hunger_utility_per","basic_status","addition_status","multiply_per_status","multiply_per_sum_status","per_status","unique_status","unique_result_status","App","enchantDetailRefs","materialTreeRefs","result_status","targetSave","titleNames","targetTable","HoverSaveData","material_enchants","Array","confirm_save","changeBasicStatus","openEnchantTable","importSavedata","exportSavedata","clearAll","res","key1","key2","a","unique_key1","unique_key2","replace","Math","round","_basic_status","equip_part_ref","table_index","enchantIndex","fileFrames","getElementsByClassName","fileFrame","classList","remove","add","strage_index","savedata_str","localStorage","getItem","savedata","JSON","parse","equip_part_index","equip_name","enchantment_index","save_enchantment_name","status_key","stringify","setItem","scroll","behavior","equip_part_key","enchantment_name","saveDom","pageX","pageY","self","mouseoverFile","mouseoutFile","mousemoveFile","setConfirm","fontWeight","color","role","min","textAlign","width","setPerResult","colSpan","Info","gamepatch","href","MaterialTreeChild","whiteSpace","MaterialTree","equipPart","equipRefs","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b0a0964f.chunk.js","sourcesContent":["import \"./equipTable.css\"\n\nimport React, {forwardRef, useImperativeHandle}  from 'react';\nimport { sortBy } from \"lodash-es\";\n\nimport Config from '../configs/configs.json'; // 追加\nconst items = require('../assets/item_infos/item.json');\n\nconst EQUIP_COLUMNS = Config.EQUIP_COLUMNS\nconst TABLE_LIMIT = Config.TABLE_LIMIT\n\n\nexport default forwardRef((props, ref) => {\n  // console.log(\"EquipTable\", EQUIP_COLUMNS, props[\"data\"]);\n\n  let originEquips = props[\"data\"]\n  let [filterdEquips, setFilterdEquips] = React.useState(originEquips)\n  let [equips, setEquips] = React.useState(originEquips.slice(0, TABLE_LIMIT));\n  let [sortStatus, setSortStatus] = React.useState({column:null, type:null});\n\n  let [overEquip, setOverEquip] = React.useState((<div></div>));\n\n  const selectEquip = (e, row) => {\n    // console.log(\"Table selectEquip\", e, row, props)\n\n    //親\n    props[\"parent\"].selectEquip(row);\n    props[\"parent\"].closeEquipModal();\n  }\n\n  const changeSorting = (column) =>{\n    setSortStatus({column: column, type: sortStatus[\"type\"]===\"asc\"? \"desc\": \"asc\"})\n    \n    let _filterdEquips;\n    if (sortStatus[\"type\"]===\"asc\"){\n      _filterdEquips = sortBy(originEquips, column)\n    }else{\n      _filterdEquips = sortBy(originEquips, column).reverse()\n    }\n    \n    setFilterdEquips(_filterdEquips)\n    let new_equips = _filterdEquips.slice(0, TABLE_LIMIT)\n    setEquips(new_equips)\n    // console.log(\"sortStatus\", sortStatus)\n  }\n  \n  const trackScrolling = (e) => {\n    // console.log(e, e.target.offsetHeight, e.target.scrollTop, e.target.scrollHeight)\n    if(e.target.scrollHeight <= e.target.scrollTop + e.target.offsetHeight){\n      // console.log(\"filterdEnchants\", filterdEquips)\n      setEquips(equips.concat(filterdEquips.slice(equips.length, equips.length+TABLE_LIMIT)))\n      // console.log(\"bottom\", e, equips)\n    }\n  };\n\n  const hoverEquip = (e, target_equip) => {\n    // console.log(\"target_equip\", target_equip)\n  \n    let origin_material = {}\n  \n    let material_tree = {};\n    let _material_tree = {num:1, materials:{}}\n    material_tree[target_equip[\"name\"]] = _material_tree;\n    \n    check_material(target_equip.materials, _material_tree[\"materials\"], target_equip[\"name\"], 1)\n    get_origin_materials(target_equip[\"name\"], _material_tree, origin_material)\n\n    function check_material(material, material_tree, parent_name, parent_num){\n      if(material!==null){\n        for (let material_name of Object.keys(material)){\n  \n          let _material = items[material_name]\n          \n          let total_num = material[material_name]*parent_num\n          \n          let _material_tree = {num: total_num, materials:{}}\n          material_tree[material_name] = _material_tree\n          \n          if(parent_name===material_name)continue;\n          if(_material==null || _material_tree==null)continue;\n\n          check_material(_material[\"materials\"], _material_tree[\"materials\"], material_name, total_num);\n        }\n      }\n    }\n    \n    function get_origin_materials(name, material, origin_material){\n      if (material[\"materials\"]==null || Object.keys(material[\"materials\"]).length===0){\n        if(origin_material[name]==null){\n          origin_material[name] = material[\"num\"]\n        }else{\n          origin_material[name] += material[\"num\"]\n        }\n      }\n      \n      for (let material_name of Object.keys(material[\"materials\"])){\n        let _material = material[\"materials\"][material_name]\n        get_origin_materials(material_name, _material, origin_material)\n      }\n    }\n    \n    let dom = (\n      <>\n        {\n          Object.keys(material_tree).map((key, i)=>{\n            // console.log(\"\\t\", material_tree)\n            return (\n              <div key={\"OVER_ORIGIN_MATERIAL_\"+key} className=\"overOriginMaterial\">\n                <div className=\"headTable\">原材料合計</div>\n                <div>\n                  {\n\n                    (Object.keys(origin_material).length===1&&Object.keys(origin_material)[0]===key)?\n                      (<div>なし</div>):\n                      Object.keys(origin_material).map((material, i)=>{\n                        return(<div key={\"OVER_ORIGIN_MATERIAL_\"+key+\"_\"+material}>{material}×{origin_material[material]}</div>)\n                      })\n                  \n                  }\n                </div>\n              </div>\n  \n            )\n          })\n        }\n      </>\n    );\n    setOverEquip(dom)\n  }\n\n  const outEquip = (e) => {\n    setOverEquip(<div></div>)\n  }\n  \n  useImperativeHandle(ref, () => ({\n    updateEquipList(equip_list) {\n      setEquips(equip_list);\n    }\n  }));\n\n  return (\n    <section className=\"equipTableSection\">\n      {overEquip}\n      <div className=\"tableMaster modalTable\" onScroll={trackScrolling}>\n        <table className=\"equipTable\">\n          <thead>\n            <tr>\n              {EQUIP_COLUMNS.map(column => (\n                <th key={\"EQUIP_TABLE_HEADER_\"+column['accessor']} onClick={()=>{changeSorting(column['accessor'])}}>\n                  {column['Header']}\n                  <span>{sortStatus[\"column\"]===column['accessor'] ? (sortStatus[\"type\"]===\"asc\" ? ' ▼' : ' ▲') : ' 　'}</span>\n                </th>\n              ))}\n              <th>スキル</th>\n            </tr>\n          </thead>\n          <tbody>\n            {equips.map((equip, i)  => {\n              let style={}\n\n              let row = (\n                <tr\n                    key={\"EQUIP_TABLE_ROW_\"+i}\n                    style={style}\n                    onClick={(e) => selectEquip(e, equip)}\n                    onMouseOver ={(e) => hoverEquip(e, equip)}\n                    onMouseOut ={(e) => outEquip(e)}\n                >\n                  {EQUIP_COLUMNS.map((column, j) => (\n                    <td\n                      key={\"EQUIP_TABLE_TD_\"+column[\"accessor\"]}\n                      className={((column[\"accessor\"]===\"name\")?\"equip_rarelity_\"+equip[\"rarelity\"]:\"\") + \" \" + column[\"type\"]}\n                    >\n                      {equip[column.accessor]}\n                    </td>\n                  ))}\n                  <td>\n                    {Object.keys(equip[\"skill\"]).map((column, j) => (\n                      <div key={\"EQUIP_TABLE_TD_SKILL_\"+column[\"accessor\"]+\"_\"+column}>\n                        {column} Lv{equip[\"skill\"][column]}\n                      </div>\n                    ))}\n                  </td>\n                  {/* <MaterialTree key={i} equip={equip} parent={this} /> */}\n                </tr>\n              )\n              return row\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n});\n\n","import React, {forwardRef, useImperativeHandle, useEffect}  from 'react';\nimport { sortBy } from \"lodash-es\";\nimport \"./enchantTable.css\"\n\nimport Config from '../configs/configs.json'; // 追加\nconst ENCHANTMENT_COLUMNS = Config.ENCHANTMENT_COLUMNS\nconst TABLE_LIMIT = Config.TABLE_LIMIT\nconst RARELITY_INFOS = Config.RARELITY_INFOS\n\nexport default  forwardRef((props, ref) => {\n  let originEnchants = props[\"data\"]\n  originEnchants = sortBy(originEnchants, \"rarelity\")\n  let [filterdEnchants, setFilterdEnchants] = React.useState(originEnchants)\n  let [enchants, setEnchants] = React.useState(originEnchants.slice(0, TABLE_LIMIT));\n  let [sortStatus, setSortStatus] = React.useState({column:null, type:null});\n  let [targetEnchant, setTargetEnchant] = React.useState(null);\n\n  // console.log(\"EnchantTable!!!!\", filterdEnchants, enchants, props, ref)\n  \n\n  const selectEnchant = (e, row) => {\n    // console.log(\"Table selectEnchant\", e, props[\"id\"], row, props)\n    //親\n    props[\"parent\"].selectEnchant(props[\"id\"], row);\n    props[\"parent\"].closeEnchantModal();\n  }\n\n  const changeSorting = (column) =>{\n    let sort_obj = {}\n    if(sortStatus[\"column\"]===column){\n      sort_obj = {column: column, type: sortStatus[\"type\"]===\"asc\"? \"desc\": \"asc\"}\n    }else{\n      sort_obj = {column: column, type: \"desc\"}\n    }\n\n    setSortStatus(sort_obj)\n    \n    let _filterdEnchants;\n    if (sort_obj[\"type\"]===\"asc\"){\n      _filterdEnchants = sortBy(originEnchants, column)\n    }else{\n      _filterdEnchants = sortBy(originEnchants, column).reverse()\n    }\n    \n    setFilterdEnchants(_filterdEnchants)\n    let new_enchants = _filterdEnchants.slice(0, TABLE_LIMIT)\n    setEnchants(new_enchants)\n    // console.log(\"sortStatus\", sortStatus)\n  }\n  \n  const trackScrolling = (e) => {\n    // console.log(e, e.target.scrollTop, e.target.offsetHeight, e.target.scrollHeight)\n    if(e.target.scrollHeight < e.target.scrollTop + e.target.offsetHeight){\n      // console.log(\"filterdEnchants\", filterdEnchants)\n      setEnchants(enchants.concat(filterdEnchants.slice(enchants.length, enchants.length+TABLE_LIMIT)))\n      // console.log(\"bottom\", e, enchants)\n    }\n  };\n\n  useEffect(() => {\n  });\n\n  useImperativeHandle(ref, () => ({\n    updateEquipList(equip_list) {\n      setEnchants(equip_list);\n    }\n  }));\n\t\n  let sectionDom = null;\n  let tbodyDom = null;\n\n  const mouseMove = (e) => {\n    let elements = [].slice.call( e.target.closest(\"tbody\").children ) ;\n\n    let index = elements.indexOf( e.target.closest(\"tr\") );\n    \n    setTargetEnchant(enchants[index])\n\n    if(tbodyDom==null){\n      sectionDom = document.querySelector('.enchantTableSection');\n      tbodyDom = sectionDom.querySelector('.balloon');\n    }\n    \n    tbodyDom.style.left = window.scrollX - sectionDom.offsetLeft + sectionDom.scrollLeft + e.clientX + 25 + \"px\";\n    tbodyDom.style.top = window.scrollY - sectionDom.offsetTop + sectionDom.scrollTop + e.clientY - 7 + \"px\";\n  }\n\n  const dom = (\n    <section className=\"enchantTableSection modalTable\" style={{ top:props[\"top\"]}}>\n      <div className=\"tableMaster\" onScroll={trackScrolling}>\n          <span className=\"balloon\" style={{display:targetEnchant?\"block\":\"\"}}>\n            {\n              (function () {\n                let datas = ENCHANTMENT_COLUMNS.map((column) => {\n                  let key = column[\"accessor\"]\n                  if(targetEnchant!=null && Object.keys(targetEnchant).indexOf(key)!==-1 \n                    && targetEnchant[key]!==0\n                    && key!==\"name\"\n                    && key!==\"rarelity\"\n                  ){\n                    let value = targetEnchant[key]\n                    return <div key={column[\"accessor\"]+\"_balloon\"}>{column[\"Header\"]}: {value}</div>\n                  }else{\n                    return null;\n                  }\n                })\n\n                if(targetEnchant!=null && targetEnchant[\"skill\"]!=null){\n                  let skills = Object.keys(targetEnchant[\"skill\"]).map((skill_name)=>{\n                    return <div key={\"skill_\"+skill_name+\"_balloon\"}>スキル：{skill_name} Lv{targetEnchant[\"skill\"][skill_name]}</div>\n                  })\n                  datas = datas.concat(skills)\n                }\n\n                datas = datas.filter((n) => { return n !== null });\n\n                if(datas.length===0){\n                  datas.push(<div key={\"balloon\"}>(なし)</div>)\n                }\n\n                return datas\n              }())\n            }\n          </span>\n        <table className=\"enchantTable\">\n          <thead>\n            <tr>\n              {ENCHANTMENT_COLUMNS.map(column => (\n                <th key={column[\"accessor\"]+\"_enchantTable\"} onClick={(e)=>{changeSorting(column['accessor'])}}>\n                  {column['Header']}\n                  <span>{sortStatus[\"column\"]===column['accessor'] ? (sortStatus[\"type\"]===\"desc\" ? ' ▼' : ' ▲') : ' 　'}</span>\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody onMouseMove={(e)=>{mouseMove(e)}} onMouseEnter={(e)=>{mouseMove(e)}}>\n            {enchants.map(enchant => {\n              let selected = false;\n              for(let targetEnchant of props[\"parent\"].equip_part.enchantments){\n                if(targetEnchant!=null && enchant[\"name\"]===targetEnchant[\"name\"]){\n                  selected = true;\n                }\n                \n              }\n\n              let row = (\n                <tr\n                  key={\"ENCHANT_TABLE_ROW_\"+enchant[\"name\"]}\n                  className={selected?\"selected\":\"\"}\n                  onClick={(e) => selectEnchant(e, enchant)}\n                >\n                  {ENCHANTMENT_COLUMNS.map((column, i) => (\n                    <td key={\"ENCHANT_TD_\"+enchant[\"name\"]+\"_\"+column[\"accessor\"]}\n                      className={((column.accessor===\"name\" || column.accessor===\"rarelity\")?\"enchant_rarelity_\"+enchant[\"rarelity\"]:\"\") + \" \" + column[\"type\"]}\n                    >\n                      {(column[\"type\"]===\"rarelity\")?RARELITY_INFOS[enchant[column.accessor]][\"name\"]:enchant[column.accessor]}\n                    </td>\n                  ))}\n                </tr>\n              )\n              return row\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n\n  return dom\n});\n\n","/* eslint-disable array-callback-return */\nimport \"./equipSelector.css\"\nimport React, {createRef}  from 'react';\n\n// import EnchantTable from \"./enchantTable copy.js\";\nimport EquipTable from \"./equipTable.js\";\nimport EnchantTable from \"./enchantTable.js\";\n\nimport Config from '../configs/configs.json'; // 追加\nconst items = require('../assets/item_infos/item.json');\nconst EQUIP_COLUMNS = Config.EQUIP_COLUMNS\nconst ENCHANTMENT_COLUMNS = Config.ENCHANTMENT_COLUMNS\n\nexport default class EquipSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { \n      isEquipOpen: false, \n      isEnchantOpens: [false, false, false, false], \n      targetEquip: null, \n      searchEquipText: \"\", \n      searchEnchantTexts: [\"\", \"\", \"\", \"\"]\n    };\n    this.timeOutId = null;\n\t\n  \tthis.name = props[\"equip_part\"][\"title\"];\n  \tthis.frame_position = props[\"frame_position\"];\n  \tthis.parent = props[\"parent\"];\n  \t\n  \tthis.equips_list = props[\"equip_list\"];\n  \tthis.equip_part = props[\"equip_part\"];\n    \n  \tthis.enchantment_list = props[\"enchantment_list\"];\n\n    this.openEquipModal = this.openEquipModal.bind(this);\n    this.closeEquipModal = this.closeEquipModal.bind(this);\n    this.handleEquipChange = this.handleEquipChange.bind(this);\n    this.onClickHandler = this.onClickHandler.bind(this);\n    this.selectEquip = this.selectEquip.bind(this);\n    this.selectEnchant = this.selectEnchant.bind(this);\n\n    this.equipTableRef = createRef();\n    this.enchantTableRef = this.equip_part.enchantments.map((_, i) => createRef());\n    this.enchantTableDom = this.equip_part.enchantments.map((_, i) => null);\n\n    this.enchantStatus = this.equip_part.enchantments.map((_, i) => {return {}});\n\n    // console.log(\"EquipSelector\", this)\n  }\n\n  selectEquip(row) {\n    // console.log(\"EquipSelector selectEquip\", row, this.parent, this.state)\n    this.setState({targetEquip: row});\n    \n    this.equip_part.target = row\n    this.parent.updateStatus()\n  }\n\n  selectEnchant(index, row) {\n    // console.log(\"EquipSelector selectEnchant\", index, row, this.parent, this.state)\n\n    this.equip_part.enchantments[index] = row;\n\n    this.enchantStatus[index] = {}\n    if(row!=null){\n      ENCHANTMENT_COLUMNS.map(column => {\n        let key = column[\"accessor\"]\n        if(Object.keys(row).indexOf(key)!==-1 \n          && row[key]!==0\n          && key!==\"name\"\n        ){\n          let value = row[key]\n          this.enchantStatus[index][key] = value;\n        }\n        return 0;\n      })\n\n      if( row[\"skill\"]!=null){\n        this.enchantStatus[index][\"skill\"] = {}\n        for(let skill_name of Object.keys(row[\"skill\"])){\n          this.enchantStatus[index][\"skill\"][skill_name] = row[\"skill\"][skill_name]\n        }\n      }\n    }\n\n    this.parent.updateStatus();\n  }\n\n  openEquipModal() {\n    // console.log(\"openEquipModal\", this)\n\n    for(let equipPartRef of this.parent.equipPartRefs){\n      equipPartRef.current.closeAllModal()\n    }\n\n    this.setState(currentState => ({\n      isEquipOpen: true,\n      isEnchantOpens: [false]*this.state.isEnchantOpens.length\n      // isEquipOpen: !currentState.isEquipOpen\n    }));\n    // console.log(this.state.isEquipOpen)\n  }\n\n  openEnchantModal(index, e) {\n    // console.log(\"openEnchantModal\", this)\n    for(let equipPartRef of this.parent.equipPartRefs){\n      equipPartRef.current.closeAllModal()\n    }\n\n    let _enchantTable = [];\n    for (let i in this.isEnchantOpens){\n      if (i===index){\n        _enchantTable.push(true);\n      }else{\n        _enchantTable.push(false);\n      }\n    }\n\n    _enchantTable[index] = true;\n    this.setState(currentState => ({\n      isEquipOpen: false,\n      isEnchantOpens: _enchantTable\n      // isEquipOpen: !currentState.isEquipOpen\n    }));\n\n    this.setEnchantTable(index, e)\n  }\n\n  closeEquipModal() {\n    this.setState(currentState => ({\n      isEquipOpen: false\n      // isEquipOpen: !currentState.isEquipOpen\n    }));\n  }\n\n  closeEnchantModal() {\n    // this.setState(currentState => ({\n    //   isEnchantOpens:[false, false, false, false]\n    // }));\n\n    this.setState(currentState => ({\n      isEnchantOpens: [false]*this.state.isEnchantOpens.length\n    }));\n    this.parent.setState(currentState => ({\n      enchant_table: null\n    }));\n  }\n\n  closeAllModal() {\n    this.setState(currentState => ({\n      isEquipOpen: false,\n      isEnchantOpens: [false]*this.state.isEnchantOpens.length\n    }));\n\n    this.parent.setState(currentState => ({\n      enchant_table: null\n    }));\n  }\n\n  handleEquipChange(e) {\n    this.setState({searchEquipText:e.target.value})\n    let filterd_equips_list = [];\n\n    if (this.equipTableRef.current){\n      for(let equip of this.equips_list){\n        if(equip[\"name\"].indexOf(e.target.value)!==-1){\n          filterd_equips_list.push(equip)\n        }\n      }\n      // console.log(\"handleEquipChange\", !this.equipTableRef.current, this.state.searchEquipText, filterd_equips_list)\n      this.equipTableRef.current.updateEquipList(filterd_equips_list);\n    }\n  }\n\n  handleEnchantChange(index, e) {\n    let _searchEnchantTexts = this.state.searchEnchantTexts.slice();\n    _searchEnchantTexts[index] = e.target.value;\n    this.setState(currentState => ({\n      searchEnchantTexts: _searchEnchantTexts\n    }));\n\n    let filterd_enchant_list = [];\n\n    if (this.enchantTableRef[index].current){\n      for(let enchantment of this.enchantment_list){\n        if(enchantment[\"name\"].indexOf(e.target.value)!==-1){\n          filterd_enchant_list.push(enchantment)\n        }\n      }\n      // console.log(\"handleEnchantChange\", this.enchantTableRef[index].current, this.state.searchEnchantTexts, filterd_enchant_list)\n      this.enchantTableRef[index].current.updateEquipList(filterd_enchant_list);\n    }\n  }\n\n  onClickHandler(e) {\n    // console.log(\"onClickHandler\", this, e, e.currentTarget)\n  }\n\n  setEquipTable(){\n    this.filtered_equips_list = [];\n    for(let equip of this.equips_list){\n      if(equip[\"name\"].indexOf(this.state.searchEquipText)!==-1){\n        this.filtered_equips_list.push(equip)\n      }\n    }\n    this.equipTableDom = ( <EquipTable ref={this.equipTableRef} parent={this} EQUIP_COLUMNS={EQUIP_COLUMNS} data={this.filtered_equips_list} target_equip={this.name} />);\n    return this.equipTableDom\n  }\n\n  setEnchantTable(index, e){\n    let filtered_enchantment_list = [];\n\n    for(let enchant of this.enchantment_list){\n      if(enchant[\"name\"].indexOf(this.state.searchEnchantTexts[index])!==-1){\n        filtered_enchantment_list.push(enchant);\n      }\n    }\n\n    let top = 0;\n    let element = e.nativeEvent.target\n    do {\n        top += element.offsetTop  || 0;\n        element = element.offsetParent;\n    } while(element);\n\n    top += e.nativeEvent.target.clientHeight+4\n    \n    this.enchantTableDom[index] = ( \n      <EnchantTable \n        ref={this.enchantTableRef[index]} \n        id={index} \n        parent={this} \n        data={filtered_enchantment_list} \n        target_enchant={this.equip_part.enchantments[index]} \n        top={top}\n      />);\n    this.parent.setState(currentState => ({\n      enchant_table: this.enchantTableDom[index]\n    }));\n    \n  }\n\n  MaterialInfo(){\n    const target_equip = this.state.targetEquip;\n\n    let origin_material = {}\n  \n    let material_tree = {};\n    let _material_tree = {num:1, materials:{}}\n    material_tree[target_equip[\"name\"]] = _material_tree;\n    \n    check_material(target_equip.materials, _material_tree[\"materials\"], target_equip[\"name\"], 1)\n    get_origin_materials(target_equip[\"name\"], _material_tree, origin_material)\n\n    function check_material(material, material_tree, parent_name, parent_num){\n      if(material!=null){\n        for (let material_name of Object.keys(material)){\n          let _material = items[material_name]\n          \n          let total_num = material[material_name]*parent_num\n          \n          let _material_tree = {num: total_num, materials:{}}\n          material_tree[material_name] = _material_tree\n          \n          if(parent_name===material_name)continue;\n          if(_material==null || _material_tree==null)continue;\n          \n          check_material(_material[\"materials\"], _material_tree[\"materials\"], material_name, total_num);\n        }\n      }\n    }\n    \n    function get_origin_materials(name, material, origin_material){\n      if (material[\"materials\"]==null || Object.keys(material[\"materials\"]).length===0){\n        if(origin_material[name]==null){\n          origin_material[name] = material[\"num\"]\n        }else{\n          origin_material[name] += material[\"num\"]\n        }\n      }\n      \n      for (let material_name of Object.keys(material[\"materials\"])){\n        let _material = material[\"materials\"][material_name]\n        get_origin_materials(material_name, _material, origin_material)\n      }\n    }\n    \n    let dom = (\n      <>\n        {\n          Object.keys(material_tree).map((key, i)=>{\n            // console.log(\"\\t\", material_tree)\n            return (\n              <div className=\"overOriginMaterial\" key={key+\"overOriginMaterial\"}>\n                <div className=\"headTable\">原材料合計</div>\n                <div>\n                  {\n                    (Object.keys(origin_material).length===1&&Object.keys(origin_material)[0]===key)?\n                    (<div>なし</div>):\n                    Object.keys(origin_material).map((key, j)=>{\n                      return(<div key={key+\"overOriginMaterial_material\"}>{key}×{origin_material[key]}</div>)\n                    })\n                  }\n                </div>\n              </div>\n            )\n          })\n        }\n      </>\n    );\n    return dom\n  }\n  \n\n  clearEquip(e){\n    // console.log(\"clearEquip\", e, this)\n    this.selectEquip(null);\n  }\n\n  clearEnchant(e, i){\n    // console.log(\"clearEnchant\", e, i, this)\n    this.selectEnchant(i, null)\n  }\n  \n  mouseMove(e, i){\n    // tbodyDom.style.left = window.scrollX - sectionDom.offsetLeft + sectionDom.scrollLeft + e.clientX + 25 + \"px\";\n    // tbodyDom.style.top = - sectionDom.offsetTop + sectionDom.scrollTop + e.clientY - 7 + \"px\";\n    \n    let enchantDom = document.querySelector('.enchantInfoBalloon');\n    enchantDom.style.left = window.scrollX + e.clientX + 25 + \"px\";\n    enchantDom.style.top = window.scrollY + e.clientY - 7 + \"px\";\n  }\n  \n  mouseOver(e, i){\n    this.parent.setState(currentState => ({\n      enchantInfoBalloon: this.enchantStatus[i]\n    }));\n  }\n\n  mouseOut(e, i){\n    this.parent.setState(currentState => ({\n      enchantInfoBalloon: null\n    }));\n  }\n  \n  render() {\n    let table_style = {position:\"absolute\", zIndex:10, maxWidth:\"1100px\"}\n    table_style[this.frame_position] = 0\n\n    return (\n      <article className={'equipmentFrame ' + this.equip_part['code']}>\n        <div className=\"title\">{this.name}</div>\n        <div className=\"equipInfo\">\n          {this.state.targetEquip && (\n            <>\n              {this.MaterialInfo()}\n              <div className={\"equipName equip_rarelity_\"+this.state.targetEquip[\"rarelity\"]}>{this.state.targetEquip.name}</div>\n              <div className=\"equipStatus\">\n                ATK:{this.state.targetEquip.atk}&nbsp;\n                MATK:{this.state.targetEquip.matk}&nbsp;\n                DEF:{this.state.targetEquip.def}&nbsp;\n                ASPD:{this.state.targetEquip.aspd}\n              </div>\n            </>\n          )}\n        </div>\n        <div className=\"inputEquip\">\n          <span className=\"clearEquip\" onClick={(e)=>{this.clearEquip(e)}}>×</span>\n          <input type=\"search\" id=\"name\" name=\"name\" autoComplete=\"off\" size=\"25\" \n            className={(this.state.isEquipOpen)?\"focus\":\"\"}\n            value={this.state.searchEquipText} \n            placeholder=\"装備の名前を入力してください\" \n            onChange={this.handleEquipChange} \n            onFocus={this.openEquipModal}\n          />\n          {this.state.isEquipOpen && this.setEquipTable()}\n        </div>\n        <div className=\"enchantment_list\">\n          {this.equip_part.enchantments.map((equip_part, i) => {\n            return(\n              <div key={i+\"enchantment_list\"}>\n                <div className=\"inputEnchant\">\n                  <span className=\"clearEnchant\" onClick={(e)=>{this.clearEnchant(e, i)}}>×</span>\n                  <input type=\"search\" id=\"name\" name=\"name\" autoComplete=\"off\" size=\"10\" \n                    className={(this.state.isEnchantOpens[i])?\"focus\":\"\"}\n                    value={this.state.searchEnchantTexts[i]} \n                    onChange={(e)=>{this.handleEnchantChange(i, e)}} \n                    onFocus={(e)=>{this.openEnchantModal(i, e)}}\n                  />\n                </div>\n                {this.equip_part.enchantments[i] && (\n                  <span className={\"enchantInfo enchant_rarelity_\"+this.equip_part.enchantments[i][\"rarelity\"]}\n                    onMouseOver={(e)=>{this.mouseOver(e, i)}} \n                    onMouseMove={(e)=>{this.mouseMove(e, i)}} \n                    onMouseOut={(e)=>{this.mouseOut(e, i)}} \n                  >\n                    {this.equip_part.enchantments[i][\"name\"]}\n                  </span>\n                )}\n              </div>\n            )\n          })}\n        </div>\n        \n      </article>\n    );\n  }\n}","/* eslint-disable array-callback-return */\nimport './App.css';\nimport React, {createRef} from 'react';\n\nimport EquipSelector from \"./components/equipSelector\";\nimport MaterialTreeSection from \"./components/materialTreeSection\";\nimport EnchantDetailSection from \"./components/enchantDetailSection\";\n\nimport Config from './configs/configs.json';\nimport Info from './configs/info.json';\nconst EQUIP_LABELS = Config.EQUIP_LABELS;\nconst STATUS_LABELS = Config.STATUS_LABELS;\nconst INPUT_STATUS_LABELS = Config.INPUT_STATUS_LABELS;\nconst UNIQUE_LABELS = Config.UNIQUE_LABELS;\nconst EQUIP_STATUS_KEY_LABELS = Config.EQUIP_STATUS_KEY_LABELS;\nconst STATUS_RANGES = Config.STATUS_RANGES;\nconst ENCHANTMENT_COLUMNS = Config.ENCHANTMENT_COLUMNS\nconst EQUIP_PARTS = Config.EQUIP_PARTS\n\nconst head_equips = require('./assets/equip_infos/頭装備.json');\nconst body_equips = require('./assets/equip_infos/体装備.json');\nconst glider_equips = require('./assets/equip_infos/グライダー.json');\nconst accessory_equips = require('./assets/equip_infos/アクセサリー.json');\nconst other_equips = require('./assets/equip_infos/弾・戦闘補助.json');\nconst shield_equips = require('./assets/equip_infos/盾.json');\nconst one_h_sword_equips = require('./assets/equip_infos/片手剣.json');\nconst two_h_sword_equips = require('./assets/equip_infos/両手剣.json');\nconst spear_equips = require('./assets/equip_infos/槍.json');\nconst bow_equips = require('./assets/equip_infos/弓.json');\nconst gun_equips = require('./assets/equip_infos/銃.json');\nconst rod_equips = require('./assets/equip_infos/魔法杖.json');\nconst tool_equips = require('./assets/equip_infos/ツール.json');\n\nlet enchantment_list = require('./assets/enchantment_infos/enchantment.json');\n\nlet ENCHANT_CONVERTER = {\n  エンチャント名: \"name\",\n  ATK: \"atk\",\n  ATK割合: \"atk_per\",\n  MATK: \"matk\",\n  MATK割合: \"matk_per\",\n  \"DEFのN%ATK増加\": \"def_for_atk\",\n  \"DEFのN%MATK増加\": \"def_for_matk\",\n  \"ライフのN%ATK増加\": \"life_for_atk\",\n  \"ライフのN%MATK増加\": \"life_for_matk\",\n  \"マナのN%ATK増加\": \"mana_for_atk\",\n  \"マナのN%MATK増加\": \"mana_for_matk\",\n  DEF: \"def\",\n  DEF割合: \"def_per\",\n  最大スタ: \"stamina\",\n  最大スタ割合: \"stamina_per\",\n  最大マナ: \"mana\",\n  最大マナ割合: \"mana_per\",\n  最大ライフ: \"life\",\n  最大ライフ割合: \"life_per\",\n  最大満腹度: \"hunger\",\n  最大満腹度割合: \"hunger_per\",\n\n  移動速度: \"mv\",\n  空中速度: \"amv\",\n\n  ASPD: \"aspd\",\n  アイテムCD: \"item_cd\",\n  スキルCD: \"skill_cd\",\n  物理クリダメ: \"crit_dmg\",\n  物理クリ確率: \"crit_per\",\n  魔法クリダメ: \"mcrit_dmg\",\n  魔法クリ確率: \"mcrit_per\",\n  マナ自然回復量: \"mana_recovery_per\",\n  スタミナ自然回復量: \"stamina_recovery_per\",\n  満腹度消費量:\"hunger_utility_per\",\n}\n\nfor(let enchantment of enchantment_list){\n  for(let old_key of Object.keys(enchantment)){\n    let new_key = ENCHANT_CONVERTER[old_key]\n    if(new_key==null)continue\n    delete Object.assign( enchantment, {[new_key]: enchantment[old_key] })[old_key];\n  }\n}\nfor(let enchantment of enchantment_list){\n  for(let enchant_column of ENCHANTMENT_COLUMNS){\n    if(enchantment[enchant_column[\"accessor\"]]==null){\n      enchantment[enchant_column[\"accessor\"]] = 0\n    }\n  }\n}\n\nconst where_to_equip ={\n  \"right_hand\":[\"one_h_sword_equips\", \"two_h_sword_equips\", \"spear_equips\", \"bow_equips\", \"gun_equips\", \"tool_equips\", \"rod_equips\"],\n  \"head\":[\"head_equips\"], \n  \"body\":[\"body_equips\"], \n  \"left_hand\":[\"shield_equips\", \"one_h_sword_equips\"], \n  \"accessory1\":[\"accessory_equips\"],\n  \"accessory2\":[\"accessory_equips\"],\n  \"glider\":[\"glider_equips\"], \n  \"other\":[\"other_equips\"], \n}\n\nlet equip_parts = [\n  { code: \"right_hand\", title: EQUIP_PARTS[\"right_hand\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null] },\n  { code: \"head\", title: EQUIP_PARTS[\"head\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"body\", title: EQUIP_PARTS[\"body\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"left_hand\", title: EQUIP_PARTS[\"left_hand\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"accessory1\", title: EQUIP_PARTS[\"accessory1\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"accessory2\", title: EQUIP_PARTS[\"accessory2\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"glider\", title: EQUIP_PARTS[\"glider\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"other\", title: EQUIP_PARTS[\"other\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n];\n\n// 装備一覧インポート\nfor(let equip_part of equip_parts){\n  let equip_list = []\n  \n  for(let target_json_name of where_to_equip[equip_part.code]){\n    let json_datas = eval(target_json_name);\n    \n    for(let json_data of json_datas){\n      \n      let target_equip = {}\n      target_equip[\"skill\"] = {}\n      target_equip[\"type\"] = EQUIP_LABELS[target_json_name]\n      for(let EQUIP_STATUS_KEY of Object.keys(EQUIP_STATUS_KEY_LABELS)){\n        let EQUIP_STATUS_LABEL= EQUIP_STATUS_KEY_LABELS[EQUIP_STATUS_KEY]\n        target_equip[EQUIP_STATUS_KEY] = (json_data[EQUIP_STATUS_LABEL]!=null)?json_data[EQUIP_STATUS_LABEL]:0\n      }\n      target_equip[\"skill\"] = json_data[\"skill\"]\n      equip_list.push(target_equip)\n      \n    }\n  }\n  equip_part.list = equip_list;\n}\n\nlet status = {\n  life:0,\n  stamina:0,\n  mana:0,\n  atk:0,\n  matk:0,\n  def:0,\n  aspd:0,\n  hunger:0,\n  mv:0,\n  amv:0,\n  item_cd:0,\n  skill_cd:0,\n  crit_per:0,\n  crit_dmg:0,\n  mcrit_per:0,\n  mcrit_dmg:0,\n  mana_recovery_per:0,\n  stamina_recovery_per:0,\n  hunger_utility_per:0,\n  skills:{},\n}\n\nlet basic_status = {}\nObject.keys(INPUT_STATUS_LABELS).map((key, i) => {\n  basic_status[key] = 0;\n})\n\nlet addition_status = {\n  life:0,\n  stamina:0,\n  mana:0,\n  atk:0,\n  matk:0,\n  def:0,\n  hunger:0,\n}\n\nlet multiply_per_status ={\n  life:0,\n  stamina:0,\n  mana:0,\n  atk:0,\n  matk:0,\n  def:0,\n  hunger:0,\n}\n\nlet multiply_per_sum_status ={\n  life:0,\n  stamina:0,\n  mana:0,\n  atk:0,\n  matk:0,\n  def:0,\n  hunger:0,\n}\n\nlet per_status ={\n  mv:0,\n  amv:0,\n  aspd:0,\n  item_cd:0,\n  skill_cd:0,\n  crit_per:0,\n  crit_dmg:0,\n  mcrit_per:0,\n  mcrit_dmg:0,\n  mana_recovery_per:0,\n  stamina_recovery_per:0,\n  hunger_utility_per:0,\n}\n\nlet unique_status = {\n  atk:{\n    def:0,\n    life:0,\n    mana:0,\n  },\n  matk:{\n    def:0,\n    life:0,\n    mana:0,\n  }\n}\n\nlet unique_result_status = {\n  atk:{\n    def:0,\n    life:0,\n    mana:0,\n  },\n  matk:{\n    def:0,\n    life:0,\n    mana:0,\n  }\n}\n\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.equipPartRefs = equip_parts.map((_, i) => createRef());\n    this.enchantDetailRefs = createRef()\n    this.materialTreeRefs = createRef()\n\n    this.state = { \n      basic_status: {...basic_status}, \n      result_status: {...status}, \n      isEnchantOpens: false,\n      targetSave: 0, \n      titleNames:[\"\", \"\", \"\"],\n      targetTable:null,\n      enchant_table: null,\n      enchantInfoBalloon: null,\n      HoverSaveData: null,\n\n      material_enchants: Array(equip_parts.length),\n      \n      confirm_save: null\n    };\n\n    this.updateStatus = this.updateStatus.bind(this);\n    this.changeBasicStatus = this.changeBasicStatus.bind(this);\n    this.onClickHandler = this.onClickHandler.bind(this);\n    this.openEnchantTable = this.openEnchantTable.bind(this);\n    this.importSavedata = this.importSavedata.bind(this);\n    this.exportSavedata = this.exportSavedata.bind(this);\n    this.clearAll = this.clearAll.bind(this);\n\n  }\n\n  componentDidMount(){\n    this.importSavedata(0)\n  }\n\n  updateStatus(){\n    // console.log(\"App updateStatus\", equip_parts)\n    \n    let res = {}\n    let skills = {}\n    for(let key of Object.keys(this.state.result_status)){\n      res[key] = 0;\n    }\n\n    for(let key of Object.keys(addition_status)){\n      addition_status[key] = 0\n    }\n    for(let key of Object.keys(multiply_per_status)){\n      multiply_per_status[key] = 0\n    }\n    for(let key of Object.keys(per_status)){\n      per_status[key] = 0\n    }\n    for(let key1 of Object.keys(unique_status)){\n      for(let key2 of Object.keys(unique_status[key1])){\n        unique_status[key1][key2] = 0\n      }\n    }\n\n    for (let key of Object.keys(this.state.basic_status)){\n      addition_status[key] += this.state.basic_status[key]\n    }\n    for(let equip_part of equip_parts){\n      if(equip_part.target != null){\n        for(let key of Object.keys(equip_part.target)){\n          let value = equip_part.target[key]\n\n          if(value == null)continue\n\n          if (addition_status[key]!=null){\n            addition_status[key] += value\n          }\n\n          if ( Object.keys(multiply_per_status).map((a, i)=>{return a+\"_per\"}).indexOf(key)!==-1){\n            multiply_per_status[key] += value\n          }\n\n          if (per_status[key]!=null){\n            per_status[key] += value\n          }\n\n          for(let unique_key1 of Object.keys(unique_status)){\n            for(let unique_key2 of Object.keys(unique_status[unique_key1])){\n              if (key === unique_key2+\"_for_\"+unique_key1){\n                unique_status[unique_key1][unique_key2] += value\n              }\n            }\n          }\n\n        }\n        // console.log(\"equip_part\", equip_part)\n        for(let skill_name of Object.keys(equip_part.target[\"skill\"])){\n          if(skills[skill_name]==null){\n            skills[skill_name] = 0\n          }\n          skills[skill_name] += equip_part.target[\"skill\"][skill_name]\n        }\n\n      }\n      for(let enchantment of equip_part.enchantments){\n        if(enchantment == null)continue\n        \n        for(let key of Object.keys(enchantment)){\n          let value = enchantment[key]\n          if(value == null)continue\n\n          if ( key in addition_status){\n            addition_status[key] += value\n          }\n\n          if ( Object.keys(multiply_per_status).map((a, i)=>{return a+\"_per\"}).indexOf(key)!==-1){\n            multiply_per_status[key.replace(\"_per\", \"\")] += value\n          }\n\n          if ( key in per_status){\n            per_status[key] += value\n          }\n\n          for(let unique_key1 of Object.keys(unique_status)){\n            for(let unique_key2 of Object.keys(unique_status[unique_key1])){\n              if (key === unique_key2+\"_for_\"+unique_key1){\n                unique_status[unique_key1][unique_key2] += value\n              }\n            }\n          }\n\n        }\n        \n        for(let skill_name of Object.keys(enchantment[\"skill\"])){\n          if(skills[skill_name]==null){\n            skills[skill_name] = 0\n          }\n          skills[skill_name] += enchantment[\"skill\"][skill_name]\n        }\n        \n      }\n    }\n    \n    for (let key of Object.keys(res)){\n      res[key] += addition_status[key]\n    }\n\n    for(let unique_key1 of Object.keys(unique_status)){\n      for(let unique_key2 of Object.keys(unique_status[unique_key1])){\n        if(unique_status[unique_key1][unique_key2]!==0){\n\n          unique_result_status[unique_key1][unique_key2] = Math.round(res[unique_key2]*unique_status[unique_key1][unique_key2]/100);\n          res[unique_key1] += unique_result_status[unique_key1][unique_key2];\n        }\n      }\n    }\n    \n    for (let key of Object.keys(res)){\n\n      if(key in multiply_per_status){\n        multiply_per_sum_status[key] = Math.round(((addition_status[key]<0)?0:addition_status[key])*multiply_per_status[key]*0.01)\n        res[key] += ((addition_status[key]<0)?0:addition_status[key])*multiply_per_status[key]*0.01\n        res[key] = Math.round(res[key]*1000)/1000\n      }\n      \n      if(key in per_status){\n        res[key] = per_status[key]\n      }\n    }\n\n    for (let key of Object.keys(res)){\n      res[key] = Math.round(res[key]);\n    }\n\n    res[\"skills\"] = skills\n\n    // console.log(\"updateStatus\", this.state.basic_status, addition_status ,multiply_per_status, unique_status, res)\n    this.setState({result_status:res})\n  }\n\n\n  changeBasicStatus(e, key){\n    let value = e.target.value*1\n    if(value == null){\n      value = 0;\n    }\n    let _basic_status = this.state.basic_status;\n    _basic_status[key] = value;\n\n    this.setState(currentState => ({\n      basic_status: _basic_status,\n    }));\n    \n    this.updateStatus();\n    // console.log(\"changeBasicStatus\", e, key, this.state.basic_status, this.state.result_status)\n  }\n\n\n  onClickHandler(e){\n    // console.log(\"App onClickHandler\", e, equip_parts,\n    // e.target.closest(\".inputEquip\"),\n    // e.target.closest(\".inputEnchant\"),\n    // e.target.closest(\".enchantTableSection\"),\n    // )\n    if (!(e.target.closest(\".inputEquip\")||e.target.closest(\".inputEnchant\")||e.target.closest(\".enchantTableSection\"))) {\n      for(let equip_part_ref of this.equipPartRefs){\n        if(equip_part_ref.current)\n          equip_part_ref.current.closeAllModal()\n      }\n      this.setState({isEnchantOpens:false})\n    }\n  }\n\n  openEnchantTable(table_index, enchantIndex, e){\n    // console.log(\"openEnchantTable\", this.state.isEnchantOpens, table_index, enchantIndex, e)\n    this.setState({isEnchantOpens:!this.state.isEnchantOpens})\n  }\n\n  importSavedata(index){\n    // console.log(\"importSavedata\", index, savedata)\n\n    this.setState({targetSave:index})\n    let fileFrames = document.getElementsByClassName(\"fileFrame\");\n\n    for (let fileFrame of fileFrames)\n      fileFrame.classList.remove(\"targetSavedata\")\n\n      fileFrames[index].classList.add(\"targetSavedata\")\n    \n    const strage_index = \"save_\"+index;\n    const savedata_str = localStorage.getItem(strage_index);\n\n    if (savedata_str ==null){\n      this.clearAll();\n      return;\n    }\n\n    const savedata = JSON.parse(savedata_str)\n\n    for(let equip_part_index in equip_parts){\n      let equip_part = equip_parts[equip_part_index]\n      const code = equip_part.code;\n      \n      let target_equip = null\n      if (Object.keys(savedata.equips).indexOf(code)!==-1){\n        const equip_name = savedata.equips[code].name;\n\n        for(let target_json_name of where_to_equip[equip_part.code]){\n          let json_datas = eval(target_json_name);\n\n          for(let json_data of json_datas){\n            if (json_data[\"アイテム名\"]!==equip_name) continue;\n\n            target_equip = {}\n            target_equip[\"type\"] = EQUIP_LABELS[target_json_name]\n            for(let EQUIP_STATUS_KEY of Object.keys(EQUIP_STATUS_KEY_LABELS)){\n              let EQUIP_STATUS_LABEL= EQUIP_STATUS_KEY_LABELS[EQUIP_STATUS_KEY]\n              target_equip[EQUIP_STATUS_KEY] = (json_data[EQUIP_STATUS_LABEL]!=null)?json_data[EQUIP_STATUS_LABEL]:0\n            }\n            target_equip[\"skill\"] = json_data[\"skill\"]\n\n            break;\n          }\n        }\n      }\n      this.equipPartRefs[equip_part_index].current.selectEquip(target_equip);\n\n      for(let enchantment_index in equip_part.enchantments){\n        \n        let value = null\n        if (Object.keys(savedata.equips).indexOf(code)!==-1){\n          let save_enchantment_name = savedata.equips[code].enchantments[enchantment_index]\n          if (save_enchantment_name!==null){\n            for(let enchantment of enchantment_list){ //これ最適化できないか\n              if(save_enchantment_name === enchantment[\"name\"]){\n                value = enchantment;\n                break;\n              }\n            }\n          }\n        }\n        this.equipPartRefs[equip_part_index].current.selectEnchant(enchantment_index, value)\n      }\n    }\n\n    let _basic_status = {...basic_status}\n    for(let status_key in this.state.basic_status){\n      if(savedata[\"basic_status\"][status_key] !=null)\n        _basic_status[status_key] = savedata[\"basic_status\"][status_key];\n    }\n    \n    this.setState({basic_status:_basic_status});\n    this.state.basic_status = _basic_status;\n    this.updateStatus();\n\n  }\n\n\n  exportSavedata(e, index){\n    let savedata = {}\n    savedata[\"equips\"] = {}\n    savedata[\"basic_status\"] = this.state.basic_status\n\n    for(const equip_part of equip_parts){\n      if(equip_part.target===null)continue;\n\n      savedata[\"equips\"][equip_part.code] = {\n        name:equip_part.target.name,\n        enchantments:[]\n      }\n      for(const index in equip_part.enchantments){\n        const enchantment = equip_part.enchantments[index]\n        if(enchantment==null) continue;\n\n        savedata[\"equips\"][equip_part.code].enchantments.push(enchantment.name)\n      }\n    }\n\n    const strage_index = \"save_\"+index;\n    const savedata_str = JSON.stringify(savedata)\n\n    localStorage.setItem(strage_index, savedata_str);\n  }\n\n  setConfirm(target){\n    this.setState({confirm_save:target});\n  }\n  \n  clearAll(e){\n    // console.log(\"clearAll\", e)\n\n    for(let equip_part_index in equip_parts){\n      let equip_part = equip_parts[equip_part_index]\n\n      this.equipPartRefs[equip_part_index].current.selectEquip(null);\n\n      for(let enchantment_index in equip_part.enchantments){\n        this.equipPartRefs[equip_part_index].current.selectEnchant(enchantment_index, null)\n      }\n    }\n\n    let _basic_status = this.state.basic_status\n    for(let status_key in this.state.basic_status){\n      _basic_status[status_key] = 0\n    }\n    \n    this.updateStatus()\n  }\n\n  scroll(e, className){\n    let  element = document.getElementsByClassName(className)[0];\n    \n    window.scroll({\n      top: element.offsetTop,\n      behavior: \"smooth\"\n    });\n  }\n\n  setPerResult(key){\n    let value = this.state.result_status[key]\n\n    if(STATUS_RANGES[key]!=null\n      && STATUS_RANGES[key][0]!=null && this.state.result_status[key]<STATUS_RANGES[key][0]){\n      value = STATUS_RANGES[key][0]\n    }else if(STATUS_RANGES[key]!=null\n      && STATUS_RANGES[key][1]!=null && STATUS_RANGES[key][1]<this.state.result_status[key]){\n      value = STATUS_RANGES[key][1]\n    }\n\n    return (value);\n  }\n\n  mouseoverFile(index, e){\n    const strage_index = \"save_\"+index;\n    const savedata_str = localStorage.getItem(strage_index);\n    const savedata = JSON.parse(savedata_str)\n\n    let res = []\n    if(savedata==null || savedata[\"equips\"]==null || Object.keys(savedata[\"equips\"]).length===0){\n      res = \"(装備なし)\"\n\n    }else{\n      for(let equip_part_key of Object.keys(EQUIP_PARTS)){\n        let equip_part = savedata[\"equips\"][equip_part_key]\n        if(equip_part==null)continue\n        res.push(<div key={EQUIP_PARTS[equip_part_key]}>{EQUIP_PARTS[equip_part_key] +\":\"+ equip_part.name}</div>)\n        for(let enchantment_index in equip_part.enchantments){\n          let enchantment_name = equip_part.enchantments[enchantment_index]\n          res.push(<div key={EQUIP_PARTS[equip_part_key]+\"_ENCHANT_\"+enchantment_index} style={{\"paddingLeft\": \"20px\"}}>{enchantment_name}</div>)\n        }\n      }\n    }\n\n    this.setState({HoverSaveData:<div>{res}</div>});\n\n  }\n\n  mousemoveFile(e){\n    let saveDom = document.querySelector('.saveBalloon');\n    saveDom.style.left = e.pageX+10 + \"px\";\n    saveDom.style.top = e.pageY+10 + \"px\";\n  }\n\n  mouseoutFile(e){\n    this.setState({HoverSaveData:null});\n  }\n\n  render() {\n    return (\n      <div className=\"App\" \n        onClick={this.onClickHandler} \n      >\n        {(this.state.enchant_table!=null)&&this.state.enchant_table}\n        \n        <div className=\"enchantInfoBalloon\"\n          style={(this.state.enchantInfoBalloon!=null) ? {display:\"block\"}: {display:\"none\"}}\n        >{\n          (function (self) {\n            if (self.state.enchantInfoBalloon != null){\n\n              let datas = ENCHANTMENT_COLUMNS.map(column => {\n                let key = column[\"accessor\"]\n                if(Object.keys(self.state.enchantInfoBalloon).indexOf(key)!==-1 \n                  && self.state.enchantInfoBalloon[key]!==0\n                  && key!==\"name\"\n                  && key!==\"rarelity\"\n                ){\n                  let value = self.state.enchantInfoBalloon[key]\n                  return <div key={\"ENCHANT_BALLOON\"+column[\"Header\"]}><span>{column[\"Header\"]}</span>: {value}</div>\n                }\n              })\n              \n              if(self.state.enchantInfoBalloon[\"skill\"]!=null){\n                let skills = Object.keys(self.state.enchantInfoBalloon[\"skill\"]).map((skill_name)=>{\n                  return <div key={\"skill_\"+skill_name+\"_balloon\"}>スキル：{skill_name} Lv{self.state.enchantInfoBalloon[\"skill\"][skill_name]}</div>\n                })\n                datas = datas.concat(skills)\n              }\n\n              datas = datas.filter((n) => { return n != null });\n\n              if(datas.length===0){\n                datas.push(<div>(なし)</div>)\n              }\n              return datas\n            }\n          }(this))\n        }</div>\n\n        {(this.state.HoverSaveData!=null)&&(<div className=\"saveBalloon\">{(this.state.HoverSaveData)}</div>)}\n        \n        <header>Craftopia 装備シミュレーター</header>\n        <section className=\"saveSection\">\n          <div>\n            {[...Array(5)].map((key, i) => { \n              return(\n                <div key={\"FILE_\"+i} \n                  onMouseOver={(e)=>{this.mouseoverFile(i, e)}}\n                  onMouseOut={(e)=>{this.mouseoutFile(e)}}\n                  onMouseMove={(e)=>{this.mousemoveFile(e)}}\n                >\n                  <div className=\"fileFrame\">\n                    <input type=\"button\" className=\"fileButton\" value={\"load\"+i} onClick={(e)=>{this.importSavedata(i);this.setConfirm(null)}} />\n                    <input type=\"button\" className=\"saveButton\" value={\"save\"+i} onClick={(e)=>this.setConfirm(i)} />\n                  </div>\n\n                </div>\n              )\n            })}\n          </div>\n\n            {\n              (this.state.confirm_save!=null)&&\n              (<div className=\"confirm\">\n                <span>現在の入力情報を <span style={{fontWeight: \"bold\",color: \"#000\"}}>save{this.state.confirm_save}</span> に上書きます。</span>\n                <input type=\"button\" className=\"saveButton\" value=\"はい\" onClick={(e)=>{this.exportSavedata(e, this.state.confirm_save);this.setConfirm(null)}} />\n                <input type=\"button\" className=\"saveButton\" value=\"いいえ\" onClick={(e)=>this.setConfirm(null)} />\n              </div>)\n\n            }\n        </section>\n        \n        <div className=\"scrollButton\">\n          <div>\n            <div onClick={(e)=>{this.scroll(e, \"saveSection\")}}>入力画面</div>\n            <div onClick={(e)=>{this.scroll(e, \"enchantDetail\")}}>エンチャント詳細</div>\n            <div onClick={(e)=>{this.scroll(e, \"materialSection\")}}>素材ツリー</div>\n          </div>\n        </div>\n\n        <div>\n          <input type=\"button\" className=\"clearButton\" value=\"clear\" onClick={(e)=>this.clearAll(e)} />\n        </div>\n\n        <section className=\"main\">\n          <div>\n            <section className=\"status\">\n              <article className=\"basicStatus\">\n                <div className=\"title\" >基礎ステータス</div>\n                <table>\n                  <thead>\n                    <tr role=\"row\">\n                      <th></th>\n                      <th>基礎ステータス</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {Object.keys(INPUT_STATUS_LABELS).map((key, i) => { \n                      return(\n                        <tr key={key}>\n                          <td>{INPUT_STATUS_LABELS[key]}</td>\n                          <td>\n                            <input type=\"number\" \n                              min=\"0\"\n                              style={{textAlign: \"right\", width: \"80px\"}} \n                              value={this.state.basic_status[key]}\n                              onChange={(e)=>{this.changeBasicStatus(e, key)}}\n                            />\n                          </td>\n                        </tr>\n                      )\n                    })}\n                  </tbody>\n                </table>\n              </article>\n\n              <article className=\"totalStatus\">\n                <div className=\"title\">合計ステータス</div>\n                <table>\n                  <thead>\n                    <tr role=\"row\">\n                      <th></th>\n                      <th>固定値合計</th>\n                      <th>割合合計</th>\n                      <th>特殊合計</th>\n                      <th>合計</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {Object.keys(STATUS_LABELS).map((key, i) => { \n                      if(addition_status[key]!=null){\n                        return(\n                          <tr key={\"RES_STATUS_\"+key}>\n                            <td>{STATUS_LABELS[key]}</td>\n                            <td>\n                              {(addition_status[key]<0)?0:addition_status[key]}\n                              <span className=\"over\">{(addition_status[key]<0)?`(${addition_status[key]})`:\"\"}</span>\n                            </td>\n                            <td>{(multiply_per_status[key]>0)?\"+\":\"\"}{multiply_per_status[key]}%({(multiply_per_sum_status[key]>0)?\"+\":\"\"}{multiply_per_sum_status[key]})</td>\n                            <td>{\n                              (unique_status[key]!=null)?\n                              Object.keys(unique_status[key]).map((key2, j)=>{\n                                if(unique_status[key][key2]!=null && unique_status[key][key2]!==0)\n                                  return <div>{UNIQUE_LABELS[key2+\"_for_\"+key]} {unique_status[key][key2]}%(+{unique_result_status[key][key2]})</div>\n                              }):\"\"\n                            }</td>\n                            <td>\n                              {(this.state.result_status[key]<1)?1:this.state.result_status[key]}\n                              <span className=\"over\">{(this.state.result_status[key]<1)?`(${this.state.result_status[key]-1})`:\"\"}</span>\n                            </td>\n                          </tr>\n                        )\n                      }else if(per_status[key]!=null){\n                        return(\n                          <tr key={\"RES_STATUS_\"+key}>\n                            <td>{STATUS_LABELS[key]}</td>\n                            <td></td>\n                            <td>{(per_status[key]>0)?\"+\":\"\"}{per_status[key]}%</td>\n                            <td>{\n                              (unique_status[key]!=null)?\n                              Object.keys(unique_status[key]).map((key2, j)=>{\n                                if(unique_status[key][key2]!=null && unique_status[key][key2]!==0)\n                                return <div>{UNIQUE_LABELS[key2+\"_for_\"+key]} {unique_status[key][key2]}%(+{unique_result_status[key][key2]})</div>\n                              }):\"\"\n                            }</td>\n                            <td>\n                              <span className={\n                                ((STATUS_RANGES[key]!=null&&STATUS_RANGES[key][0]!=null)&&(this.state.result_status[key]<STATUS_RANGES[key][0])\n                                ||(STATUS_RANGES[key]!=null&&STATUS_RANGES[key][1]!=null)&&(STATUS_RANGES[key][1]<this.state.result_status[key])) ? 'over' : ''}>\n                              {(this.state.result_status[key]>0)?\"+\":\"\"}\n                              {this.setPerResult(key)}\n                              %\n                              {/* <span className=\"over\"> */}\n                                {\n                                  (STATUS_RANGES[key]!=null&&STATUS_RANGES[key][0]!=null)&&(this.state.result_status[key]<STATUS_RANGES[key][0])?`(${this.state.result_status[key]-STATUS_RANGES[key][0]})`:\"\"\n                                }\n                                {\n                                  (STATUS_RANGES[key]!=null&&STATUS_RANGES[key][1]!=null)&&(STATUS_RANGES[key][1]<this.state.result_status[key])?`(${this.state.result_status[key]-STATUS_RANGES[key][1]})`:\"\"\n                                }\n                              </span>\n                            </td>\n                          </tr>\n                        )\n                      }\n                    })}\n                    \n                    <tr>\n                      <td>スキル</td>\n                      <td colSpan=\"4\">{\n                        \n                          Object.keys(this.state.result_status[\"skills\"]).map((key, i) => {\n                            return (<div key={\"TOTAL_\"+key}>{key}: Lv.{this.state.result_status[\"skills\"][key]}</div>)\n                          }) \n                        }</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </article>\n            </section>\n\n            <section className=\"equipSelectors\">\n              <div className=\"equipTableCell left\">\n                {equip_parts.map((equip_part, i) => {\n                  if (i<=3){\n                    return (\n                      <EquipSelector\n                        ref={this.equipPartRefs[i]}\n                        key={i+\"_equipSelectors\"}\n                        parent={this} \n                        table_index={i}\n                        equip_part={equip_part}\n                        equip_list={equip_part.list}\n                        enchantment_list = {enchantment_list}\n                        frame_position=\"left\"\n                        className=\"equip_selector\"\n                        />\n                    )\n                  }\n                })}\n              </div>\n              <div className=\"equipTableCell right\">\n                {equip_parts.map((equip_part, i) => {\n                  if (i>3){\n                    return (\n                      <EquipSelector\n                        ref={this.equipPartRefs[i]}\n                        key={i+\"_equipSelectors\"}\n                        parent={this} \n                        table_index={i}\n                        equip_part={equip_part}\n                        equip_list={equip_part.list}\n                        enchantment_list = {enchantment_list}\n                        frame_position=\"right\"\n                        className=\"equip_selector\"\n                      />\n                    )\n                  }\n                })}\n              </div>\n            </section>\n          </div>\n        </section>\n        \n        <EnchantDetailSection ref={this.enchantDetailRefs} equip_parts={equip_parts} parent={this} />\n\n        <MaterialTreeSection ref={this.materialTreeRefs} equip_parts={equip_parts} parent={this} />\n        \n        <section className=\"caution\">\n          <article>\n            <div>注意点</div>\n            <ul>\n              <li>アイテムを捧げることによって増加するステータスについては対応しておりません。</li>\n            </ul>\n          </article>\n        </section>\n\n\n        <section className=\"history\">\n          <article>\n            <div>履歴</div>\n            <div className=\"log\">\n              \n              <div><span style={{width: \"95px\",display:\"inline-block\"}}>2021/10/08:</span>エンチャントマウスオーバー時の座標修正</div>\n              <div><span style={{width: \"95px\",display:\"inline-block\"}}></span>素材修正</div>\n              <div><span style={{width: \"95px\",display:\"inline-block\"}}></span>エンチャント追加</div>\n              <div><span style={{width: \"95px\",display:\"inline-block\"}}>2021/09/29:</span>実装</div>\n            </div>\n          </article>\n        </section>\n\n        <section className=\"unimplemented\">\n          <article>\n            <div>未実装機能</div>\n            <ul>\n              <li>パッチ v20210930.1502 対応中</li>\n              <li>スマートフォン対応中</li>\n            </ul>\n          </article>\n        </section>\n\n        <footer>\n          <span>last update: 2021/10/8</span>\n          <span>ゲームver：{Info.gamepatch}</span>\n          <span>情報は <a href=\"https://seesaawiki.jp/craftopia/\">Craftopia/クラフトピア Wiki</a> 様を参考にさせていただいております。</span>\n        </footer>\n      </div>\n    );\n    }\n}\n","import React, {forwardRef, createRef}  from 'react';\n\nimport './materialTreeSection.css';\n\nconst items = require('../assets/item_infos/item.json');\n\nlet MaterialTreeChild = forwardRef((props, ref) => {\n  let materials = props[\"materials\"]\n\n  return (\n    <div>\n      {\n        Object.keys(materials).map((key, i)=>{\n          // console.log(\"\\t\", materials)\n          return (\n            <div key={key}>\n              <div className=\"treeChild\" >\n                <div className=\"treeParent\">\n                  <div>\n                    <span style={{whiteSpace:\"nowrap\"}}>{key}</span>\n                    <span style={{whiteSpace:\"nowrap\"}}>×{materials[key][\"num\"]}</span>\n                  </div>\n                </div>\n                <MaterialTreeChild materials={materials[key][\"materials\"]} />\n              </div>\n            </div>\n          )\n        })\n      }\n    </div>\n  );\n})\n\n\n\n\nlet MaterialTree = forwardRef((props, ref) => {\n  let equipPart = props[\"equip_part\"]\n  let origin_material = {}\n\n  let dom = (\n    <div className=\"materialTree\">\n      <div>{equipPart.title}</div>\n      <div></div>\n      <div>{equipPart.target && equipPart.target.name}</div>\n    </div>)\n\n  if(equipPart.target!=null){\n    let target_equip = equipPart.target;\n\n    // console.log(\"target_equip\", target_equip)\n    let material_tree = {};\n    let _material_tree = {num:1, materials:{}}\n    material_tree[target_equip[\"name\"]] = _material_tree;\n    \n    check_material(target_equip.materials, _material_tree[\"materials\"], target_equip[\"name\"], 1)\n    // console.log(\"material_tree\", material_tree)\n    \n    get_origin_materials(target_equip[\"name\"], _material_tree, origin_material)\n    // console.log(\"origin_material\", origin_material)\n    \n    function check_material(material, material_tree, parent_name, parent_num){\n      if(material!==null){\n        for (let material_name of Object.keys(material)){\n          let _material = items[material_name]\n\n          let total_num = material[material_name]*parent_num\n          \n          let _material_tree = {num: total_num, materials:{}}\n          material_tree[material_name] = _material_tree\n          \n          if(parent_name===material_name)continue;\n          if(_material==null || _material_tree==null)continue;\n          \n          check_material(_material[\"materials\"], _material_tree[\"materials\"], material_name, total_num);\n        }\n      }\n    }\n    \n    function get_origin_materials(name, material, origin_material){\n      if (material[\"materials\"]==null || Object.keys(material[\"materials\"]).length===0){\n        if(origin_material[name]==null){\n          origin_material[name] = material[\"num\"]\n        }else{\n          origin_material[name] += material[\"num\"]\n        }\n      }\n      \n      for (let material_name of Object.keys(material[\"materials\"])){\n        let _material = material[\"materials\"][material_name]\n        get_origin_materials(material_name, _material, origin_material)\n      }\n    }\n    \n    dom = (\n      <>\n        {\n          Object.keys(material_tree).map((key, i)=>{\n            // console.log(\"\\t\", material_tree)\n            return (\n              <div className=\"materialTree\" key={i+\"materialTree\"}>\n                <div className=\"equip_type\">{equipPart.title}</div>\n                <div className=\"treeAncestor\">\n                  <div>\n                    <div className=\"treeParent\">{key}</div>\n                    <MaterialTreeChild materials={material_tree[key][\"materials\"]} />\n                  </div>\n                </div>\n                <div className=\"originMaterial\">\n                  <div>\n                    {\n                      Object.keys(origin_material).map((key, i)=>{\n                        return(<div key={i+\"_originMaterial\"}>{key}×{origin_material[key]}</div>)\n                      })\n                    \n                    }\n                  </div>\n                </div>\n              </div>\n\n            )\n          })\n        }\n      </>\n    );\n  }\n\n  return dom;\n})\n\n\nexport default  forwardRef((props, ref) => {\n  let equip_parts = props[\"equip_parts\"]\n  \n  let equipRefs = equip_parts.map((_, i) => createRef());\n  \n  return (\n    <article className=\"materialSection\">\n      <div className=\"title\">素材ツリー</div>\n      <div className=\"body\">\n        <div className=\"table\">\n          <div className=\"materialTreeHead headTable\">\n            <div>装備箇所</div>\n            <div>素材ツリー</div>\n            <div>原材料</div>\n          </div>\n          {equip_parts.map((equip_part, i) => {\n            return (\n              <MaterialTree ref={equipRefs[i]} key={i} equip_part={equip_part} parent={this} />\n            )\n          })}\n        </div>\n      </div>\n    </article>\n  )\n})\n","import React, {forwardRef}  from 'react';\n\nimport './enchantDetailSection.css';\n\n\nexport default  forwardRef((props, ref) => {\n  let equip_parts = props[\"equip_parts\"]\n  \n  return (\n\n    <article className=\"enchantDetail\">\n      <div>\n        <div className=\"title\">エンチャント詳細</div>\n        <table>\n          <thead>\n            <tr role=\"row\">\n              <th>装備箇所</th>\n              <th>名称</th>\n              <th>エンチャント</th>\n            </tr>\n          </thead>\n          <tbody>\n            {equip_parts.map((equip_part, i) => { \n              return(\n                <tr key={i+\"enchantDetail\"}>\n                  <td>{equip_part.title}</td>\n                  <td className={(equip_part.target)?\"equip_rarelity_\"+equip_part.target[\"rarelity\"]:\"\"}>{equip_part.target && equip_part.target.name}</td>\n                  <td>\n                    {equip_part.enchantments &&\n                      Object.keys(equip_part.enchantments).map((i) => {\n                        let enchantment = equip_part.enchantments[i]\n                        if(enchantment!=null){\n                          return (<div key={i+\"enchantDetail_get\"}>\n                            <span \n                              className={\"enchant_rarelity_\"+enchantment[\"rarelity\"]}\n                            >{enchantment.name}</span>\n                            \n                          ({enchantment[\"備考\"].replace(\"lv.\", \"Lv\")}\n                          {(enchantment[\"備考\"]!==\"\")&&(enchantment[\"ト\"]===\"○\")&&\"、 \"}\n                          {(enchantment[\"ト\"]===\"○\")&&\"トレジャー\"}\n                          )</div>)\n                        }\n                      })\n                    }\n                  </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n    </article>\n  )\n})\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}