{"version":3,"sources":["components/equipTable.js","components/enchantTable.js","components/equipSelector.js","App.js","components/materialTreeSection.js","components/enchantDetailSection.js","reportWebVitals.js","index.js"],"names":["items","require","EQUIP_COLUMNS","Config","TABLE_LIMIT","forwardRef","props","ref","originEquips","React","useState","filterdEquips","setFilterdEquips","slice","equips","setEquips","column","type","sortStatus","setSortStatus","overEquip","setOverEquip","useImperativeHandle","updateEquipList","equip_list","className","onScroll","e","target","scrollHeight","scrollTop","offsetHeight","concat","length","map","onClick","_filterdEquips","sortBy","reverse","new_equips","changeSorting","equip","i","style","row","selectEquip","closeEquipModal","onMouseOver","target_equip","origin_material","material_tree","_material_tree","num","materials","check_material","material","parent_name","parent_num","Object","keys","material_name","_material","total_num","get_origin_materials","name","dom","key","hoverEquip","onMouseOut","j","accessor","ENCHANTMENT_COLUMNS","originEnchants","filterdEnchants","setFilterdEnchants","enchants","setEnchants","targetEnchant","setTargetEnchant","useEffect","sectionDom","tbodyDom","mouseMove","index","call","closest","children","indexOf","document","querySelector","left","window","scrollX","offsetLeft","scrollLeft","clientX","top","offsetTop","clientY","display","datas","value","skills","skill_name","filter","n","push","_filterdEnchants","sort_obj","new_enchants","onMouseMove","onMouseEnter","enchant","selected","equip_part","enchantments","selectEnchant","closeEnchantModal","EquipSelector","state","isEquipOpen","isEnchantOpens","targetEquip","searchEquipText","searchEnchantTexts","timeOutId","frame_position","parent","equips_list","enchantment_list","openEquipModal","bind","handleEquipChange","onClickHandler","equipTableRef","createRef","enchantTableRef","_","enchantTableDom","enchantStatus","this","setState","updateStatus","equipPartRefs","current","closeAllModal","currentState","_enchantTable","setEnchantTable","enchant_table","filterd_equips_list","_searchEnchantTexts","filterd_enchant_list","enchantment","filtered_equips_list","equipTableDom","data","filtered_enchantment_list","element","nativeEvent","offsetParent","clientHeight","console","log","view","outerHeight","id","target_enchant","enchantDom","scrollY","enchantInfoBalloon","position","zIndex","maxWidth","MaterialInfo","atk","matk","def","aspd","clearEquip","autoComplete","size","placeholder","onChange","onFocus","setEquipTable","clearEnchant","handleEnchantChange","openEnchantModal","mouseOver","mouseOut","Component","EQUIP_LABELS","STATUS_LABELS","INPUT_STATUS_LABELS","UNIQUE_LABELS","EQUIP_STATUS_KEY_LABELS","STATUS_RANGES","EQUIP_PARTS","head_equips","body_equips","glider_equips","accessory_equips","other_equips","shield_equips","one_h_sword_equips","two_h_sword_equips","spear_equips","bow_equips","gun_equips","rod_equips","tool_equips","ENCHANT_CONVERTER","エンチャント名","ATK","ATK割合","MATK","MATK割合","DEF","DEF割合","最大スタ","最大スタ割合","最大マナ","最大マナ割合","最大ライフ","最大ライフ割合","最大満腹度","最大満腹度割合","移動速度","空中速度","ASPD","アイテムCD","スキルCD","物理クリダメ","物理クリ確率","魔法クリダメ","魔法クリ確率","マナ自然回復量","スタミナ自然回復量","満腹度消費量","old_key","new_key","assign","enchant_column","where_to_equip","equip_parts","code","title","options","target_json_name","json_datas","eval","json_data","EQUIP_STATUS_KEY","EQUIP_STATUS_LABEL","list","status","life","stamina","mana","hunger","mv","amv","item_cd","skill_cd","crit_per","crit_dmg","mcrit_per","mcrit_dmg","mana_recovery_per","stamina_recovery_per","hunger_utility_per","basic_status","addition_status","multiply_per_status","multiply_per_sum_status","per_status","unique_status","def_for_atk","def_for_matk","unique_result_status","App","enchantDetailRefs","materialTreeRefs","result_status","targetSave","titleNames","targetTable","HoverSaveData","material_enchants","Array","confirm_save","changeBasicStatus","openEnchantTable","importSavedata","exportSavedata","clearAll","res","key1","key2","a","replace","Math","round","_basic_status","equip_part_ref","table_index","enchantIndex","fileFrames","getElementsByClassName","fileFrame","classList","remove","add","strage_index","savedata_str","localStorage","getItem","savedata","JSON","parse","equip_part_index","equip_name","enchantment_index","save_enchantment_name","status_key","stringify","setItem","scroll","behavior","equip_part_key","enchantment_name","saveDom","pageX","pageY","self","mouseoverFile","mouseoutFile","mousemoveFile","setConfirm","fontWeight","color","role","min","textAlign","width","setPerResult","colSpan","Info","gamepatch","href","MaterialTreeChild","whiteSpace","MaterialTree","equipPart","equipRefs","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f9137193.chunk.js","sourcesContent":["import \"./equipTable.css\"\n\nimport React, {forwardRef, useImperativeHandle}  from 'react';\nimport { sortBy } from \"lodash-es\";\n\nimport Config from '../configs/configs.json'; // 追加\nconst items = require('../assets/item_infos/item.json');\n\nconst EQUIP_COLUMNS = Config.EQUIP_COLUMNS\nconst TABLE_LIMIT = Config.TABLE_LIMIT\n\n\nexport default forwardRef((props, ref) => {\n  // console.log(\"EquipTable\", EQUIP_COLUMNS, props[\"data\"]);\n\n  let originEquips = props[\"data\"]\n  let [filterdEquips, setFilterdEquips] = React.useState(originEquips)\n  let [equips, setEquips] = React.useState(originEquips.slice(0, TABLE_LIMIT));\n  let [sortStatus, setSortStatus] = React.useState({column:null, type:null});\n\n  let [overEquip, setOverEquip] = React.useState((<div></div>));\n\n  const selectEquip = (e, row) => {\n    // console.log(\"Table selectEquip\", e, row, props)\n\n    //親\n    props[\"parent\"].selectEquip(row);\n    props[\"parent\"].closeEquipModal();\n  }\n\n  const changeSorting = (column) =>{\n    setSortStatus({column: column, type: sortStatus[\"type\"]===\"asc\"? \"desc\": \"asc\"})\n    \n    let _filterdEquips;\n    if (sortStatus[\"type\"]===\"asc\"){\n      _filterdEquips = sortBy(originEquips, column)\n    }else{\n      _filterdEquips = sortBy(originEquips, column).reverse()\n    }\n    \n    setFilterdEquips(_filterdEquips)\n    let new_equips = _filterdEquips.slice(0, TABLE_LIMIT)\n    setEquips(new_equips)\n    // console.log(\"sortStatus\", sortStatus)\n  }\n  \n  const trackScrolling = (e) => {\n    // console.log(e, e.target.offsetHeight, e.target.scrollTop, e.target.scrollHeight)\n    if(e.target.scrollHeight <= e.target.scrollTop + e.target.offsetHeight){\n      // console.log(\"filterdEnchants\", filterdEquips)\n      setEquips(equips.concat(filterdEquips.slice(equips.length, equips.length+TABLE_LIMIT)))\n      // console.log(\"bottom\", e, equips)\n    }\n  };\n\n  const hoverEquip = (e, target_equip) => {\n    // console.log(\"target_equip\", target_equip)\n  \n    let origin_material = {}\n  \n    let material_tree = {};\n    let _material_tree = {num:1, materials:{}}\n    material_tree[target_equip[\"name\"]] = _material_tree;\n    \n    check_material(target_equip.materials, _material_tree[\"materials\"], target_equip[\"name\"], 1)\n    get_origin_materials(target_equip[\"name\"], _material_tree, origin_material)\n\n    function check_material(material, material_tree, parent_name, parent_num){\n      if(material!==null){\n        for (let material_name of Object.keys(material)){\n  \n          let _material = items[material_name]\n          \n          let total_num = material[material_name]*parent_num\n          \n          let _material_tree = {num: total_num, materials:{}}\n          material_tree[material_name] = _material_tree\n          \n          if(parent_name===material_name)continue;\n          if(_material==null || _material_tree==null)continue;\n\n          check_material(_material[\"materials\"], _material_tree[\"materials\"], material_name, total_num);\n        }\n      }\n    }\n    \n    function get_origin_materials(name, material, origin_material){\n      if (material[\"materials\"]==null || Object.keys(material[\"materials\"]).length===0){\n        if(origin_material[name]==null){\n          origin_material[name] = material[\"num\"]\n        }else{\n          origin_material[name] += material[\"num\"]\n        }\n      }\n      \n      for (let material_name of Object.keys(material[\"materials\"])){\n        let _material = material[\"materials\"][material_name]\n        get_origin_materials(material_name, _material, origin_material)\n      }\n    }\n    \n    let dom = (\n      <>\n        {\n          Object.keys(material_tree).map((key, i)=>{\n            // console.log(\"\\t\", material_tree)\n            return (\n              <div key={\"OVER_ORIGIN_MATERIAL_\"+key} className=\"overOriginMaterial\">\n                <div className=\"headTable\">原材料合計</div>\n                <div>\n                  {\n\n                    (Object.keys(origin_material).length===1&&Object.keys(origin_material)[0]===key)?\n                      (<div>なし</div>):\n                      Object.keys(origin_material).map((material, i)=>{\n                        return(<div key={\"OVER_ORIGIN_MATERIAL_\"+key+\"_\"+material}>{material}×{origin_material[material]}</div>)\n                      })\n                  \n                  }\n                </div>\n              </div>\n  \n            )\n          })\n        }\n      </>\n    );\n    setOverEquip(dom)\n  }\n\n  const outEquip = (e) => {\n    setOverEquip(<div></div>)\n  }\n  \n  useImperativeHandle(ref, () => ({\n    updateEquipList(equip_list) {\n      setEquips(equip_list);\n    }\n  }));\n\n  return (\n    <section className=\"equipTableSection\">\n      {overEquip}\n      <div className=\"tableMaster modalTable\" onScroll={trackScrolling}>\n        <table className=\"equipTable\">\n          <thead>\n            <tr>\n              {EQUIP_COLUMNS.map(column => (\n                <th key={\"EQUIP_TABLE_HEADER_\"+column['accessor']} onClick={()=>{changeSorting(column['accessor'])}}>\n                  {column['Header']}\n                  <span>{sortStatus[\"column\"]===column['accessor'] ? (sortStatus[\"type\"]===\"asc\" ? ' ▼' : ' ▲') : ' 　'}</span>\n                </th>\n              ))}\n              <th>スキル</th>\n            </tr>\n          </thead>\n          <tbody>\n            {equips.map((equip, i)  => {\n              let style={}\n\n              let row = (\n                <tr\n                    key={\"EQUIP_TABLE_ROW_\"+i}\n                    style={style}\n                    onClick={(e) => selectEquip(e, equip)}\n                    onMouseOver ={(e) => hoverEquip(e, equip)}\n                    onMouseOut ={(e) => outEquip(e)}\n                >\n                  {EQUIP_COLUMNS.map((column, j) => (\n                    <td\n                      key={\"EQUIP_TABLE_TD_\"+column[\"accessor\"]}\n                      className={((column[\"accessor\"]===\"name\")?\"equip_rarelity_\"+equip[\"rarelity\"]:\"\") + \" \" + column[\"type\"]}\n                    >\n                      {equip[column.accessor]}\n                    </td>\n                  ))}\n                  <td>\n                    {Object.keys(equip[\"skill\"]).map((column, j) => (\n                      <div key={\"EQUIP_TABLE_TD_SKILL_\"+column[\"accessor\"]+\"_\"+column}>\n                        {column} Lv{equip[\"skill\"][column]}\n                      </div>\n                    ))}\n                  </td>\n                  {/* <MaterialTree key={i} equip={equip} parent={this} /> */}\n                </tr>\n              )\n              return row\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n});\n\n","import React, {forwardRef, useImperativeHandle, useEffect}  from 'react';\nimport { sortBy } from \"lodash-es\";\nimport \"./enchantTable.css\"\n\nimport Config from '../configs/configs.json'; // 追加\nconst ENCHANTMENT_COLUMNS = Config.ENCHANTMENT_COLUMNS\nconst TABLE_LIMIT = Config.TABLE_LIMIT\n\nexport default  forwardRef((props, ref) => {\n  let originEnchants = props[\"data\"]\n  originEnchants = sortBy(originEnchants, \"rarelity\")\n  let [filterdEnchants, setFilterdEnchants] = React.useState(originEnchants)\n  let [enchants, setEnchants] = React.useState(originEnchants.slice(0, TABLE_LIMIT));\n  let [sortStatus, setSortStatus] = React.useState({column:null, type:null});\n  let [targetEnchant, setTargetEnchant] = React.useState(null);\n\n  // console.log(\"EnchantTable!!!!\", filterdEnchants, enchants, props, ref)\n  \n\n  const selectEnchant = (e, row) => {\n    // console.log(\"Table selectEnchant\", e, props[\"id\"], row, props)\n    //親\n    props[\"parent\"].selectEnchant(props[\"id\"], row);\n    props[\"parent\"].closeEnchantModal();\n  }\n\n  const changeSorting = (column) =>{\n    let sort_obj = {}\n    if(sortStatus[\"column\"]===column){\n      sort_obj = {column: column, type: sortStatus[\"type\"]===\"asc\"? \"desc\": \"asc\"}\n    }else{\n      sort_obj = {column: column, type: \"desc\"}\n    }\n\n\n    setSortStatus(sort_obj)\n    \n    let _filterdEnchants;\n    if (sort_obj[\"type\"]===\"asc\"){\n      _filterdEnchants = sortBy(originEnchants, column)\n    }else{\n      _filterdEnchants = sortBy(originEnchants, column).reverse()\n    }\n    \n    setFilterdEnchants(_filterdEnchants)\n    let new_enchants = _filterdEnchants.slice(0, TABLE_LIMIT)\n    setEnchants(new_enchants)\n    // console.log(\"sortStatus\", sortStatus)\n  }\n  \n  const trackScrolling = (e) => {\n    // console.log(e, e.target.scrollTop, e.target.offsetHeight, e.target.scrollHeight)\n    if(e.target.scrollHeight < e.target.scrollTop + e.target.offsetHeight){\n      // console.log(\"filterdEnchants\", filterdEnchants)\n      setEnchants(enchants.concat(filterdEnchants.slice(enchants.length, enchants.length+TABLE_LIMIT)))\n      // console.log(\"bottom\", e, enchants)\n    }\n  };\n\n  useEffect(() => {\n  });\n\n  useImperativeHandle(ref, () => ({\n    updateEquipList(equip_list) {\n      setEnchants(equip_list);\n    }\n  }));\n\t\n  let sectionDom = null;\n  let tbodyDom = null;\n\n  const mouseMove = (e) => {\n    let elements = [].slice.call( e.target.closest(\"tbody\").children ) ;\n\n    let index = elements.indexOf( e.target.closest(\"tr\") )-1;\n    \n    setTargetEnchant(enchants[index])\n\n    if(tbodyDom==null){\n      sectionDom = document.querySelector('.enchantTableSection');\n      tbodyDom = sectionDom.querySelector('.balloon');\n    }\n    \n    tbodyDom.style.left = window.scrollX - sectionDom.offsetLeft + sectionDom.scrollLeft + e.clientX + 25 + \"px\";\n    tbodyDom.style.top = - sectionDom.offsetTop + sectionDom.scrollTop + e.clientY - 7 + \"px\";\n  }\n\n  const dom = (\n    <section className=\"enchantTableSection modalTable\" style={{ top:props[\"top\"]}}>\n      <div className=\"tableMaster\" onScroll={trackScrolling}>\n            <span className=\"balloon\" style={{display:targetEnchant?\"block\":\"\"}}>\n              {\n                (function () {\n                  let datas = ENCHANTMENT_COLUMNS.map((column) => {\n                    let key = column[\"accessor\"]\n                    if(targetEnchant!=null && Object.keys(targetEnchant).indexOf(key)!==-1 \n                      && targetEnchant[key]!==0\n                      && key!==\"name\"\n                    ){\n                      let value = targetEnchant[key]\n                      return <div key={column[\"accessor\"]+\"_balloon\"}>{column[\"Header\"]}: {value}</div>\n                    }else{\n                      return null;\n                    }\n                  })\n\n                  if(targetEnchant!=null && targetEnchant[\"skill\"]!=null){\n                    let skills = Object.keys(targetEnchant[\"skill\"]).map((skill_name)=>{\n                      return <div key={\"skill_\"+skill_name+\"_balloon\"}>スキル：{skill_name} Lv{targetEnchant[\"skill\"][skill_name]}</div>\n                    })\n                    datas = datas.concat(skills)\n                  }\n\n                  datas = datas.filter((n) => { return n !== null });\n\n                  if(datas.length===0){\n                    datas.push(<div>(なし)</div>)\n                  }\n\n                  return datas\n                }())\n              }\n            </span>\n        <table className=\"enchantTable\">\n          <thead>\n            <tr>\n              {ENCHANTMENT_COLUMNS.map(column => (\n                <th key={column[\"accessor\"]+\"_enchantTable\"} onClick={(e)=>{changeSorting(column['accessor'])}}>\n                  {column['Header']}\n                  <span>{sortStatus[\"column\"]===column['accessor'] ? (sortStatus[\"type\"]===\"desc\" ? ' ▼' : ' ▲') : ' 　'}</span>\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody onMouseMove={(e)=>{mouseMove(e)}} onMouseEnter={(e)=>{mouseMove(e)}}>\n            {/* <span className=\"balloon\">\n              {\n                (function () {\n                  let datas = ENCHANTMENT_COLUMNS.map((column) => {\n                    let key = column[\"accessor\"]\n                    if(targetEnchant!=null && Object.keys(targetEnchant).indexOf(key)!==-1 \n                      && targetEnchant[key]!==0\n                      && key!==\"name\"\n                    ){\n                      let value = targetEnchant[key]\n                      return <div key={column[\"accessor\"]+\"_balloon\"}>{column[\"Header\"]}: {value}</div>\n                    }else{\n                      return null;\n                    }\n                  })\n\n                  if(targetEnchant!=null && targetEnchant[\"skill\"]!=null){\n                    let skills = Object.keys(targetEnchant[\"skill\"]).map((skill_name)=>{\n                      return <div key={\"skill_\"+skill_name+\"_balloon\"}>スキル：{skill_name} Lv{targetEnchant[\"skill\"][skill_name]}</div>\n                    })\n                    datas = datas.concat(skills)\n                  }\n\n                  datas = datas.filter((n) => { return n !== null });\n\n                  if(datas.length===0){\n                    datas.push(<div>(なし)</div>)\n                  }\n\n                  return datas\n                }())\n              }\n            </span> */}\n            {enchants.map(enchant => {\n              let selected = false;\n              for(let targetEnchant of props[\"parent\"].equip_part.enchantments){\n                if(targetEnchant!=null && enchant[\"name\"]===targetEnchant[\"name\"]){\n                  selected = true;\n                }\n                \n              }\n\n              let row = (\n                <tr\n                  key={\"ENCHANT_TABLE_ROW_\"+enchant[\"name\"]}\n                  className={selected?\"selected\":\"\"}\n                  onClick={(e) => selectEnchant(e, enchant)}\n                >\n                  {ENCHANTMENT_COLUMNS.map((column, i) => (\n                    <td key={\"ENCHANT_TD_\"+enchant[\"name\"]+\"_\"+column[\"accessor\"]}\n                      className={((column.accessor===\"name\")?\"enchant_rarelity_\"+enchant[\"rarelity\"]:\"\") + \" \" + column[\"type\"]}\n                    >\n                      {enchant[column.accessor]}\n                    </td>\n                  ))}\n                </tr>\n              )\n              return row\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n\n  return dom\n});\n\n","/* eslint-disable array-callback-return */\nimport \"./equipSelector.css\"\nimport React, {createRef}  from 'react';\n\n// import EnchantTable from \"./enchantTable copy.js\";\nimport EquipTable from \"./equipTable.js\";\nimport EnchantTable from \"./enchantTable.js\";\n\nimport Config from '../configs/configs.json'; // 追加\nconst items = require('../assets/item_infos/item.json');\nconst EQUIP_COLUMNS = Config.EQUIP_COLUMNS\nconst ENCHANTMENT_COLUMNS = Config.ENCHANTMENT_COLUMNS\n\nexport default class EquipSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { \n      isEquipOpen: false, \n      isEnchantOpens: [false, false, false, false], \n      targetEquip: null, \n      searchEquipText: \"\", \n      searchEnchantTexts: [\"\", \"\", \"\", \"\"]\n    };\n    this.timeOutId = null;\n\t\n  \tthis.name = props[\"equip_part\"][\"title\"];\n  \tthis.frame_position = props[\"frame_position\"];\n  \tthis.parent = props[\"parent\"];\n  \t\n  \tthis.equips_list = props[\"equip_list\"];\n  \tthis.equip_part = props[\"equip_part\"];\n    \n  \tthis.enchantment_list = props[\"enchantment_list\"];\n\n    this.openEquipModal = this.openEquipModal.bind(this);\n    this.closeEquipModal = this.closeEquipModal.bind(this);\n    this.handleEquipChange = this.handleEquipChange.bind(this);\n    this.onClickHandler = this.onClickHandler.bind(this);\n    this.selectEquip = this.selectEquip.bind(this);\n    this.selectEnchant = this.selectEnchant.bind(this);\n\n    this.equipTableRef = createRef();\n    this.enchantTableRef = this.equip_part.enchantments.map((_, i) => createRef());\n    this.enchantTableDom = this.equip_part.enchantments.map((_, i) => null);\n\n    this.enchantStatus = this.equip_part.enchantments.map((_, i) => {return {}});\n\n    // console.log(\"EquipSelector\", this)\n  }\n\n  selectEquip(row) {\n    // console.log(\"EquipSelector selectEquip\", row, this.parent, this.state)\n    this.setState({targetEquip: row});\n    \n    this.equip_part.target = row\n    this.parent.updateStatus()\n  }\n\n  selectEnchant(index, row) {\n    // console.log(\"EquipSelector selectEnchant\", index, row, this.parent, this.state)\n\n    this.equip_part.enchantments[index] = row;\n\n    this.enchantStatus[index] = {}\n    if(row!=null){\n      ENCHANTMENT_COLUMNS.map(column => {\n        let key = column[\"accessor\"]\n        if(Object.keys(row).indexOf(key)!==-1 \n          && row[key]!==0\n          && key!==\"name\"\n        ){\n          let value = row[key]\n          this.enchantStatus[index][key] = value;\n        }\n        return 0;\n      })\n\n      if( row[\"skill\"]!=null){\n        this.enchantStatus[index][\"skill\"] = {}\n        for(let skill_name of Object.keys(row[\"skill\"])){\n          this.enchantStatus[index][\"skill\"][skill_name] = row[\"skill\"][skill_name]\n        }\n      }\n    }\n\n    this.parent.updateStatus();\n  }\n\n  openEquipModal() {\n    // console.log(\"openEquipModal\", this)\n\n    for(let equipPartRef of this.parent.equipPartRefs){\n      equipPartRef.current.closeAllModal()\n    }\n\n    this.setState(currentState => ({\n      isEquipOpen: true,\n      isEnchantOpens: [false]*this.state.isEnchantOpens.length\n      // isEquipOpen: !currentState.isEquipOpen\n    }));\n    // console.log(this.state.isEquipOpen)\n  }\n\n  openEnchantModal(index, e) {\n    // console.log(\"openEnchantModal\", this)\n    for(let equipPartRef of this.parent.equipPartRefs){\n      equipPartRef.current.closeAllModal()\n    }\n\n    let _enchantTable = [];\n    for (let i in this.isEnchantOpens){\n      if (i===index){\n        _enchantTable.push(true);\n      }else{\n        _enchantTable.push(false);\n      }\n    }\n\n    _enchantTable[index] = true;\n    this.setState(currentState => ({\n      isEquipOpen: false,\n      isEnchantOpens: _enchantTable\n      // isEquipOpen: !currentState.isEquipOpen\n    }));\n\n    this.setEnchantTable(index, e)\n  }\n\n  closeEquipModal() {\n    this.setState(currentState => ({\n      isEquipOpen: false\n      // isEquipOpen: !currentState.isEquipOpen\n    }));\n  }\n\n  closeEnchantModal() {\n    // this.setState(currentState => ({\n    //   isEnchantOpens:[false, false, false, false]\n    // }));\n\n    this.setState(currentState => ({\n      isEnchantOpens: [false]*this.state.isEnchantOpens.length\n    }));\n    this.parent.setState(currentState => ({\n      enchant_table: null\n    }));\n  }\n\n  closeAllModal() {\n    this.setState(currentState => ({\n      isEquipOpen: false,\n      isEnchantOpens: [false]*this.state.isEnchantOpens.length\n    }));\n\n    this.parent.setState(currentState => ({\n      enchant_table: null\n    }));\n  }\n\n  handleEquipChange(e) {\n    this.setState({searchEquipText:e.target.value})\n    let filterd_equips_list = [];\n\n    if (this.equipTableRef.current){\n      for(let equip of this.equips_list){\n        if(equip[\"name\"].indexOf(e.target.value)!==-1){\n          filterd_equips_list.push(equip)\n        }\n      }\n      // console.log(\"handleEquipChange\", !this.equipTableRef.current, this.state.searchEquipText, filterd_equips_list)\n      this.equipTableRef.current.updateEquipList(filterd_equips_list);\n    }\n  }\n\n  handleEnchantChange(index, e) {\n    let _searchEnchantTexts = this.state.searchEnchantTexts.slice();\n    _searchEnchantTexts[index] = e.target.value;\n    this.setState(currentState => ({\n      searchEnchantTexts: _searchEnchantTexts\n    }));\n\n    let filterd_enchant_list = [];\n\n    if (this.enchantTableRef[index].current){\n      for(let enchantment of this.enchantment_list){\n        if(enchantment[\"name\"].indexOf(e.target.value)!==-1){\n          filterd_enchant_list.push(enchantment)\n        }\n      }\n      // console.log(\"handleEnchantChange\", this.enchantTableRef[index].current, this.state.searchEnchantTexts, filterd_enchant_list)\n      this.enchantTableRef[index].current.updateEquipList(filterd_enchant_list);\n    }\n  }\n\n  onClickHandler(e) {\n    // console.log(\"onClickHandler\", this, e, e.currentTarget)\n  }\n\n  setEquipTable(){\n    this.filtered_equips_list = [];\n    for(let equip of this.equips_list){\n      if(equip[\"name\"].indexOf(this.state.searchEquipText)!==-1){\n        this.filtered_equips_list.push(equip)\n      }\n    }\n    this.equipTableDom = ( <EquipTable ref={this.equipTableRef} parent={this} EQUIP_COLUMNS={EQUIP_COLUMNS} data={this.filtered_equips_list} target_equip={this.name} />);\n    return this.equipTableDom\n  }\n\n  setEnchantTable(index, e){\n    let filtered_enchantment_list = [];\n\n    for(let enchant of this.enchantment_list){\n      if(enchant[\"name\"].indexOf(this.state.searchEnchantTexts[index])!==-1){\n        filtered_enchantment_list.push(enchant);\n      }\n    }\n\n    let top = 0;\n    let element = e.nativeEvent.target\n    do {\n        top += element.offsetTop  || 0;\n        element = element.offsetParent;\n    } while(element);\n\n    top += e.nativeEvent.target.clientHeight+4\n    console.log(\"SSSSSSSS\", e, e.view.outerHeight, e.nativeEvent.target.offsetTop, top)\n    \n    this.enchantTableDom[index] = ( \n      <EnchantTable \n        ref={this.enchantTableRef[index]} \n        id={index} \n        parent={this} \n        data={filtered_enchantment_list} \n        target_enchant={this.equip_part.enchantments[index]} \n        top={top}\n      />);\n    this.parent.setState(currentState => ({\n      enchant_table: this.enchantTableDom[index]\n    }));\n    \n  }\n\n  MaterialInfo(){\n    const target_equip = this.state.targetEquip;\n\n    let origin_material = {}\n  \n    let material_tree = {};\n    let _material_tree = {num:1, materials:{}}\n    material_tree[target_equip[\"name\"]] = _material_tree;\n    \n    check_material(target_equip.materials, _material_tree[\"materials\"], target_equip[\"name\"], 1)\n    get_origin_materials(target_equip[\"name\"], _material_tree, origin_material)\n\n    function check_material(material, material_tree, parent_name, parent_num){\n      if(material!=null){\n        for (let material_name of Object.keys(material)){\n          let _material = items[material_name]\n          \n          let total_num = material[material_name]*parent_num\n          \n          let _material_tree = {num: total_num, materials:{}}\n          material_tree[material_name] = _material_tree\n          \n          if(parent_name===material_name)continue;\n          if(_material==null || _material_tree==null)continue;\n          \n          check_material(_material[\"materials\"], _material_tree[\"materials\"], material_name, total_num);\n        }\n      }\n    }\n    \n    function get_origin_materials(name, material, origin_material){\n      if (material[\"materials\"]==null || Object.keys(material[\"materials\"]).length===0){\n        if(origin_material[name]==null){\n          origin_material[name] = material[\"num\"]\n        }else{\n          origin_material[name] += material[\"num\"]\n        }\n      }\n      \n      for (let material_name of Object.keys(material[\"materials\"])){\n        let _material = material[\"materials\"][material_name]\n        get_origin_materials(material_name, _material, origin_material)\n      }\n    }\n    \n    let dom = (\n      <>\n        {\n          Object.keys(material_tree).map((key, i)=>{\n            // console.log(\"\\t\", material_tree)\n            return (\n              <div className=\"overOriginMaterial\" key={key+\"overOriginMaterial\"}>\n                <div className=\"headTable\">原材料合計</div>\n                <div>\n                  {\n                    (Object.keys(origin_material).length===1&&Object.keys(origin_material)[0]===key)?\n                    (<div>なし</div>):\n                    Object.keys(origin_material).map((key, j)=>{\n                      return(<div key={key+\"overOriginMaterial_material\"}>{key}×{origin_material[key]}</div>)\n                    })\n                  }\n                </div>\n              </div>\n            )\n          })\n        }\n      </>\n    );\n    return dom\n  }\n  \n\n  clearEquip(e){\n    // console.log(\"clearEquip\", e, this)\n    this.selectEquip(null);\n  }\n\n  clearEnchant(e, i){\n    // console.log(\"clearEnchant\", e, i, this)\n    this.selectEnchant(i, null)\n  }\n  \n  mouseMove(e, i){\n    // tbodyDom.style.left = window.scrollX - sectionDom.offsetLeft + sectionDom.scrollLeft + e.clientX + 25 + \"px\";\n    // tbodyDom.style.top = - sectionDom.offsetTop + sectionDom.scrollTop + e.clientY - 7 + \"px\";\n    \n    let enchantDom = document.querySelector('.enchantInfoBalloon');\n    enchantDom.style.left = window.scrollX + e.clientX + 25 + \"px\";\n    enchantDom.style.top = window.scrollY + e.clientY - 7 + \"px\";\n  }\n  \n  mouseOver(e, i){\n    this.parent.setState(currentState => ({\n      enchantInfoBalloon: this.enchantStatus[i]\n    }));\n  }\n\n  mouseOut(e, i){\n    this.parent.setState(currentState => ({\n      enchantInfoBalloon: null\n    }));\n  }\n  \n  render() {\n    let table_style = {position:\"absolute\", zIndex:10, maxWidth:\"1100px\"}\n    table_style[this.frame_position] = 0\n\n    return (\n      <article className={'equipmentFrame ' + this.equip_part['code']}>\n        <div className=\"title\">{this.name}</div>\n        <div className=\"equipInfo\">\n          {this.state.targetEquip && (\n            <>\n              {this.MaterialInfo()}\n              <div className={\"equipName equip_rarelity_\"+this.state.targetEquip[\"rarelity\"]}>{this.state.targetEquip.name}</div>\n              <div className=\"equipStatus\">\n                ATK:{this.state.targetEquip.atk}&nbsp;\n                MATK:{this.state.targetEquip.matk}&nbsp;\n                DEF:{this.state.targetEquip.def}&nbsp;\n                ASPD:{this.state.targetEquip.aspd}\n              </div>\n            </>\n          )}\n        </div>\n        <div className=\"inputEquip\">\n          <span className=\"clearEquip\" onClick={(e)=>{this.clearEquip(e)}}>×</span>\n          <input type=\"search\" id=\"name\" name=\"name\" autoComplete=\"off\" size=\"25\" \n            className={(this.state.isEquipOpen)?\"focus\":\"\"}\n            value={this.state.searchEquipText} \n            placeholder=\"装備の名前を入力してください\" \n            onChange={this.handleEquipChange} \n            onFocus={this.openEquipModal}\n          />\n          {this.state.isEquipOpen && this.setEquipTable()}\n        </div>\n        <div className=\"enchantment_list\">\n          {this.equip_part.enchantments.map((equip_part, i) => {\n            return(\n              <div key={i+\"enchantment_list\"}>\n                <div className=\"inputEnchant\">\n                  <span className=\"clearEnchant\" onClick={(e)=>{this.clearEnchant(e, i)}}>×</span>\n                  <input type=\"search\" id=\"name\" name=\"name\" autoComplete=\"off\" size=\"10\" \n                    className={(this.state.isEnchantOpens[i])?\"focus\":\"\"}\n                    value={this.state.searchEnchantTexts[i]} \n                    onChange={(e)=>{this.handleEnchantChange(i, e)}} \n                    onFocus={(e)=>{this.openEnchantModal(i, e)}}\n                  />\n                </div>\n                {this.equip_part.enchantments[i] && (\n                  <span className={\"enchantInfo enchant_rarelity_\"+this.equip_part.enchantments[i][\"rarelity\"]}\n                    onMouseOver={(e)=>{this.mouseOver(e, i)}} \n                    onMouseMove={(e)=>{this.mouseMove(e, i)}} \n                    onMouseOut={(e)=>{this.mouseOut(e, i)}} \n                  >\n                    {this.equip_part.enchantments[i][\"name\"]}\n                  </span>\n                )}\n              </div>\n            )\n          })}\n        </div>\n        \n      </article>\n    );\n  }\n}","/* eslint-disable array-callback-return */\nimport './App.css';\nimport React, {createRef} from 'react';\n\nimport EquipSelector from \"./components/equipSelector\";\nimport MaterialTreeSection from \"./components/materialTreeSection\";\nimport EnchantDetailSection from \"./components/enchantDetailSection\";\n\nimport Config from './configs/configs.json';\nimport Info from './configs/info.json';\nconst EQUIP_LABELS = Config.EQUIP_LABELS;\nconst STATUS_LABELS = Config.STATUS_LABELS;\nconst INPUT_STATUS_LABELS = Config.INPUT_STATUS_LABELS;\nconst UNIQUE_LABELS = Config.UNIQUE_LABELS;\nconst EQUIP_STATUS_KEY_LABELS = Config.EQUIP_STATUS_KEY_LABELS;\nconst STATUS_RANGES = Config.STATUS_RANGES;\nconst ENCHANTMENT_COLUMNS = Config.ENCHANTMENT_COLUMNS\nconst EQUIP_PARTS = Config.EQUIP_PARTS\n\nconst head_equips = require('./assets/equip_infos/頭装備.json');\nconst body_equips = require('./assets/equip_infos/体装備.json');\nconst glider_equips = require('./assets/equip_infos/グライダー.json');\nconst accessory_equips = require('./assets/equip_infos/アクセサリー.json');\nconst other_equips = require('./assets/equip_infos/弾・戦闘補助.json');\nconst shield_equips = require('./assets/equip_infos/盾.json');\nconst one_h_sword_equips = require('./assets/equip_infos/片手剣.json');\nconst two_h_sword_equips = require('./assets/equip_infos/両手剣.json');\nconst spear_equips = require('./assets/equip_infos/槍.json');\nconst bow_equips = require('./assets/equip_infos/弓.json');\nconst gun_equips = require('./assets/equip_infos/銃.json');\nconst rod_equips = require('./assets/equip_infos/魔法杖.json');\nconst tool_equips = require('./assets/equip_infos/ツール.json');\n\nlet enchantment_list = require('./assets/enchantment_infos/enchantment.json');\n\nlet ENCHANT_CONVERTER = {\n  エンチャント名: \"name\",\n  ATK: \"atk\",\n  ATK割合: \"atk_per\",\n  MATK: \"matk\",\n  MATK割合: \"matk_per\",\n  \"DEFのN%ATK増加\": \"def_for_atk\",\n  \"DEFのN%MATK増加\": \"def_for_matk\",\n  DEF: \"def\",\n  DEF割合: \"def_per\",\n  最大スタ: \"stamina\",\n  最大スタ割合: \"stamina_per\",\n  最大マナ: \"mana\",\n  最大マナ割合: \"mana_per\",\n  最大ライフ: \"life\",\n  最大ライフ割合: \"life_per\",\n  最大満腹度: \"hunger\",\n  最大満腹度割合: \"hunger_per\",\n\n  移動速度: \"mv\",\n  空中速度: \"amv\",\n\n  ASPD: \"aspd\",\n  アイテムCD: \"item_cd\",\n  スキルCD: \"skill_cd\",\n  物理クリダメ: \"crit_dmg\",\n  物理クリ確率: \"crit_per\",\n  魔法クリダメ: \"mcrit_dmg\",\n  魔法クリ確率: \"mcrit_per\",\n  マナ自然回復量: \"mana_recovery_per\",\n  スタミナ自然回復量: \"stamina_recovery_per\",\n  満腹度消費量:\"hunger_utility_per\",\n}\n\nfor(let enchantment of enchantment_list){\n  for(let old_key of Object.keys(enchantment)){\n    let new_key = ENCHANT_CONVERTER[old_key]\n    if(new_key==null)continue\n    delete Object.assign( enchantment, {[new_key]: enchantment[old_key] })[old_key];\n  }\n}\nfor(let enchantment of enchantment_list){\n  for(let enchant_column of ENCHANTMENT_COLUMNS){\n    if(enchantment[enchant_column[\"accessor\"]]==null){\n      enchantment[enchant_column[\"accessor\"]] = 0\n    }\n  }\n}\n\nconst where_to_equip ={\n  \"right_hand\":[\"one_h_sword_equips\", \"two_h_sword_equips\", \"spear_equips\", \"bow_equips\", \"gun_equips\", \"tool_equips\", \"rod_equips\"],\n  \"head\":[\"head_equips\"], \n  \"body\":[\"body_equips\"], \n  \"left_hand\":[\"shield_equips\", \"one_h_sword_equips\"], \n  \"accessory1\":[\"accessory_equips\"],\n  \"accessory2\":[\"accessory_equips\"],\n  \"glider\":[\"glider_equips\"], \n  \"other\":[\"other_equips\"], \n}\n\nlet equip_parts = [\n  { code: \"right_hand\", title: EQUIP_PARTS[\"right_hand\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null] },\n  { code: \"head\", title: EQUIP_PARTS[\"head\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"body\", title: EQUIP_PARTS[\"body\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"left_hand\", title: EQUIP_PARTS[\"left_hand\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"accessory1\", title: EQUIP_PARTS[\"accessory1\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"accessory2\", title: EQUIP_PARTS[\"accessory2\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"glider\", title: EQUIP_PARTS[\"glider\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n  { code: \"other\", title: EQUIP_PARTS[\"other\"], options:[], target:null, equip_list:[], enchantments:[null, null, null, null]},\n];\n\n// 装備一覧インポート\nfor(let equip_part of equip_parts){\n  let equip_list = []\n  \n  for(let target_json_name of where_to_equip[equip_part.code]){\n    let json_datas = eval(target_json_name);\n    \n    for(let json_data of json_datas){\n      \n      let target_equip = {}\n      target_equip[\"skill\"] = {}\n      target_equip[\"type\"] = EQUIP_LABELS[target_json_name]\n      for(let EQUIP_STATUS_KEY of Object.keys(EQUIP_STATUS_KEY_LABELS)){\n        let EQUIP_STATUS_LABEL= EQUIP_STATUS_KEY_LABELS[EQUIP_STATUS_KEY]\n        target_equip[EQUIP_STATUS_KEY] = (json_data[EQUIP_STATUS_LABEL]!=null)?json_data[EQUIP_STATUS_LABEL]:0\n      }\n      target_equip[\"skill\"] = json_data[\"skill\"]\n      equip_list.push(target_equip)\n      \n    }\n  }\n  equip_part.list = equip_list;\n}\n\nlet status = {\n  life:0,\n  stamina:0,\n  mana:0,\n  atk:0,\n  matk:0,\n  def:0,\n  aspd:0,\n  hunger:0,\n  mv:0,\n  amv:0,\n  item_cd:0,\n  skill_cd:0,\n  crit_per:0,\n  crit_dmg:0,\n  mcrit_per:0,\n  mcrit_dmg:0,\n  mana_recovery_per:0,\n  stamina_recovery_per:0,\n  hunger_utility_per:0,\n  skills:{},\n}\n\nlet basic_status = {}\nObject.keys(INPUT_STATUS_LABELS).map((key, i) => {\n  basic_status[key] = 0;\n})\n\nlet addition_status = {\n  life:0,\n  stamina:0,\n  mana:0,\n  atk:0,\n  matk:0,\n  def:0,\n  hunger:0,\n}\n\nlet multiply_per_status ={\n  life:0,\n  stamina:0,\n  mana:0,\n  atk:0,\n  matk:0,\n  def:0,\n  hunger:0,\n}\n\nlet multiply_per_sum_status ={\n  life:0,\n  stamina:0,\n  mana:0,\n  atk:0,\n  matk:0,\n  def:0,\n  hunger:0,\n}\n\nlet per_status ={\n  mv:0,\n  amv:0,\n  aspd:0,\n  item_cd:0,\n  skill_cd:0,\n  crit_per:0,\n  crit_dmg:0,\n  mcrit_per:0,\n  mcrit_dmg:0,\n  mana_recovery_per:0,\n  stamina_recovery_per:0,\n  hunger_utility_per:0,\n}\n\nlet unique_status = {\n  atk:{\n    def_for_atk:0,\n  },\n  matk:{\n    def_for_matk:0,\n  }\n}\n\nlet unique_result_status = {\n  atk:{\n    def_for_atk:0,\n  },\n  matk:{\n    def_for_matk:0,\n  }\n}\n\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.equipPartRefs = equip_parts.map((_, i) => createRef());\n    this.enchantDetailRefs = createRef()\n    this.materialTreeRefs = createRef()\n\n    this.state = { \n      basic_status: {...basic_status}, \n      result_status: {...status}, \n      isEnchantOpens: false,\n      targetSave: 0, \n      titleNames:[\"\", \"\", \"\"],\n      targetTable:null,\n      enchant_table: null,\n      enchantInfoBalloon: null,\n      HoverSaveData: null,\n\n      material_enchants: Array(equip_parts.length),\n      \n      confirm_save: null\n    };\n\n    this.updateStatus = this.updateStatus.bind(this);\n    this.changeBasicStatus = this.changeBasicStatus.bind(this);\n    this.onClickHandler = this.onClickHandler.bind(this);\n    this.openEnchantTable = this.openEnchantTable.bind(this);\n    this.importSavedata = this.importSavedata.bind(this);\n    this.exportSavedata = this.exportSavedata.bind(this);\n    this.clearAll = this.clearAll.bind(this);\n\n  }\n\n  componentDidMount(){\n    this.importSavedata(0)\n  }\n\n  updateStatus(){\n    // console.log(\"App updateStatus\", equip_parts)\n    \n    let res = {}\n    let skills = {}\n    for(let key of Object.keys(this.state.result_status)){\n      res[key] = 0;\n    }\n\n    for(let key of Object.keys(addition_status)){\n      addition_status[key] = 0\n    }\n    for(let key of Object.keys(multiply_per_status)){\n      multiply_per_status[key] = 0\n    }\n    for(let key of Object.keys(per_status)){\n      per_status[key] = 0\n    }\n    for(let key1 of Object.keys(unique_status)){\n      for(let key2 of Object.keys(unique_status[key1])){\n        unique_status[key1][key2] = 0\n      }\n    }\n\n    for (let key of Object.keys(this.state.basic_status)){\n      addition_status[key] += this.state.basic_status[key]\n    }\n    for(let equip_part of equip_parts){\n      if(equip_part.target != null){\n        for(let key of Object.keys(equip_part.target)){\n          let value = equip_part.target[key]\n\n          if(value == null)continue\n\n          if (addition_status[key]!=null){\n            addition_status[key] += value\n          }\n\n          if ( Object.keys(multiply_per_status).map((a, i)=>{return a+\"_per\"}).indexOf(key)!==-1){\n            multiply_per_status[key] += value\n          }\n\n          if (per_status[key]!=null){\n            per_status[key] += value\n          }\n\n          for(let key1 of Object.keys(unique_status)){\n            for(let key2 of Object.keys(unique_status[key1])){\n              if (unique_status[key1][key]!=null){\n                unique_status[key1][key2] += value\n              }\n            }\n          }\n        }\n        // console.log(\"equip_part\", equip_part)\n        for(let skill_name of Object.keys(equip_part.target[\"skill\"])){\n          if(skills[skill_name]==null){\n            skills[skill_name] = 0\n          }\n          skills[skill_name] += equip_part.target[\"skill\"][skill_name]\n        }\n\n      }\n      for(let enchantment of equip_part.enchantments){\n        if(enchantment == null)continue\n        \n        for(let key of Object.keys(enchantment)){\n          let value = enchantment[key]\n          if(value == null)continue\n\n          if ( key in addition_status){\n            addition_status[key] += value\n          }\n\n          if ( Object.keys(multiply_per_status).map((a, i)=>{return a+\"_per\"}).indexOf(key)!==-1){\n            multiply_per_status[key.replace(\"_per\", \"\")] += value\n          }\n\n          if ( key in per_status){\n            per_status[key] += value\n          }\n\n          for(let key1 of Object.keys(unique_status)){\n            for(let key2 of Object.keys(unique_status[key1])){\n              if (unique_status[key1][key]!=null){\n                unique_status[key1][key2] += value\n              }\n            }\n          }\n        }\n        \n        for(let skill_name of Object.keys(enchantment[\"skill\"])){\n          if(skills[skill_name]==null){\n            skills[skill_name] = 0\n          }\n          skills[skill_name] += enchantment[\"skill\"][skill_name]\n        }\n        \n      }\n    }\n    \n    for (let key of Object.keys(res)){\n      res[key] += addition_status[key]\n\n      if(key in multiply_per_status){\n        multiply_per_sum_status[key] = Math.round(((addition_status[key]<0)?0:addition_status[key])*multiply_per_status[key]*0.01)\n        res[key] += ((addition_status[key]<0)?0:addition_status[key])*multiply_per_status[key]*0.01\n        res[key] = Math.round(res[key]*1000)/1000\n      }\n      \n      if(key in per_status){\n        res[key] = per_status[key]\n      }\n    }\n\n    for (let key of Object.keys(res)){\n      if(unique_status[key]){\n        for(let key2 of Object.keys(unique_status[key])){\n          if(key2 === \"def_for_atk\"){\n            unique_result_status[key][key2] = Math.round(res[\"def\"]*unique_status[key][key2]/100);\n            res[key] += unique_result_status[key][key2];\n          }else if(key2 === \"def_for_matk\"){\n            unique_result_status[key][key2] = Math.round(res[\"def\"]*unique_status[key][key2]/100);\n            res[key] += unique_result_status[key][key2];\n          }\n        }\n      }\n    }\n    for (let key of Object.keys(res)){\n      res[key] = Math.round(res[key]);\n    }\n\n    res[\"skills\"] = skills\n\n    // console.log(\"updateStatus\", this.state.basic_status, addition_status ,multiply_per_status, unique_status, res)\n    this.setState({result_status:res})\n  }\n\n\n  changeBasicStatus(e, key){\n    let value = e.target.value*1\n    if(value == null){\n      value = 0;\n    }\n    let _basic_status = this.state.basic_status;\n    _basic_status[key] = value;\n\n    this.setState(currentState => ({\n      basic_status: _basic_status,\n    }));\n    \n    this.updateStatus();\n    // console.log(\"changeBasicStatus\", e, key, this.state.basic_status, this.state.result_status)\n  }\n\n\n  onClickHandler(e){\n    // console.log(\"App onClickHandler\", e, equip_parts,\n    // e.target.closest(\".inputEquip\"),\n    // e.target.closest(\".inputEnchant\"),\n    // e.target.closest(\".enchantTableSection\"),\n    // )\n    if (!(e.target.closest(\".inputEquip\")||e.target.closest(\".inputEnchant\")||e.target.closest(\".enchantTableSection\"))) {\n      for(let equip_part_ref of this.equipPartRefs){\n        if(equip_part_ref.current)\n          equip_part_ref.current.closeAllModal()\n      }\n      this.setState({isEnchantOpens:false})\n    }\n  }\n\n  openEnchantTable(table_index, enchantIndex, e){\n    // console.log(\"openEnchantTable\", this.state.isEnchantOpens, table_index, enchantIndex, e)\n    this.setState({isEnchantOpens:!this.state.isEnchantOpens})\n  }\n\n  importSavedata(index){\n    // console.log(\"importSavedata\", index, savedata)\n\n    this.setState({targetSave:index})\n    let fileFrames = document.getElementsByClassName(\"fileFrame\");\n\n    for (let fileFrame of fileFrames)\n      fileFrame.classList.remove(\"targetSavedata\")\n\n      fileFrames[index].classList.add(\"targetSavedata\")\n    \n    const strage_index = \"save_\"+index;\n    const savedata_str = localStorage.getItem(strage_index);\n    console.log(strage_index, savedata_str)\n    if (savedata_str ==null){\n      this.clearAll();\n      return;\n    }\n\n    const savedata = JSON.parse(savedata_str)\n\n    for(let equip_part_index in equip_parts){\n      let equip_part = equip_parts[equip_part_index]\n      const code = equip_part.code;\n      \n      let target_equip = null\n      if (Object.keys(savedata.equips).indexOf(code)!==-1){\n        const equip_name = savedata.equips[code].name;\n\n        for(let target_json_name of where_to_equip[equip_part.code]){\n          let json_datas = eval(target_json_name);\n\n          for(let json_data of json_datas){\n            if (json_data[\"アイテム名\"]!==equip_name) continue;\n\n            target_equip = {}\n            target_equip[\"type\"] = EQUIP_LABELS[target_json_name]\n            for(let EQUIP_STATUS_KEY of Object.keys(EQUIP_STATUS_KEY_LABELS)){\n              let EQUIP_STATUS_LABEL= EQUIP_STATUS_KEY_LABELS[EQUIP_STATUS_KEY]\n              target_equip[EQUIP_STATUS_KEY] = (json_data[EQUIP_STATUS_LABEL]!=null)?json_data[EQUIP_STATUS_LABEL]:0\n            }\n            target_equip[\"skill\"] = json_data[\"skill\"]\n\n            break;\n          }\n        }\n      }\n      this.equipPartRefs[equip_part_index].current.selectEquip(target_equip);\n\n      for(let enchantment_index in equip_part.enchantments){\n        \n        let value = null\n        if (Object.keys(savedata.equips).indexOf(code)!==-1){\n          let save_enchantment_name = savedata.equips[code].enchantments[enchantment_index]\n          if (save_enchantment_name!==null){\n            for(let enchantment of enchantment_list){ //これ最適化できないか\n              if(save_enchantment_name === enchantment[\"name\"]){\n                value = enchantment;\n                break;\n              }\n            }\n          }\n        }\n        this.equipPartRefs[equip_part_index].current.selectEnchant(enchantment_index, value)\n      }\n    }\n\n    let _basic_status = {...basic_status}\n    for(let status_key in this.state.basic_status){\n      if(savedata[\"basic_status\"][status_key] !=null)\n        _basic_status[status_key] = savedata[\"basic_status\"][status_key];\n    }\n    \n    this.setState({basic_status:_basic_status});\n    this.state.basic_status = _basic_status;\n    this.updateStatus();\n\n  }\n\n\n  exportSavedata(e, index){\n    let savedata = {}\n    savedata[\"equips\"] = {}\n    savedata[\"basic_status\"] = this.state.basic_status\n\n    for(const equip_part of equip_parts){\n      if(equip_part.target===null)continue;\n\n      savedata[\"equips\"][equip_part.code] = {\n        name:equip_part.target.name,\n        enchantments:[]\n      }\n      for(const index in equip_part.enchantments){\n        const enchantment = equip_part.enchantments[index]\n        if(enchantment==null) continue;\n\n        savedata[\"equips\"][equip_part.code].enchantments.push(enchantment.name)\n      }\n    }\n\n    const strage_index = \"save_\"+index;\n    const savedata_str = JSON.stringify(savedata)\n\n    localStorage.setItem(strage_index, savedata_str);\n  }\n\n  setConfirm(target){\n    this.setState({confirm_save:target});\n  }\n  \n  clearAll(e){\n    // console.log(\"clearAll\", e)\n\n    for(let equip_part_index in equip_parts){\n      let equip_part = equip_parts[equip_part_index]\n\n      this.equipPartRefs[equip_part_index].current.selectEquip(null);\n\n      for(let enchantment_index in equip_part.enchantments){\n        this.equipPartRefs[equip_part_index].current.selectEnchant(enchantment_index, null)\n      }\n    }\n\n    let _basic_status = this.state.basic_status\n    for(let status_key in this.state.basic_status){\n      _basic_status[status_key] = 0\n    }\n    \n    this.updateStatus()\n  }\n\n  scroll(e, className){\n    let  element = document.getElementsByClassName(className)[0];\n    \n    window.scroll({\n      top: element.offsetTop,\n      behavior: \"smooth\"\n    });\n  }\n\n  setPerResult(key){\n    let value = this.state.result_status[key]\n\n    if(STATUS_RANGES[key]!=null\n      && STATUS_RANGES[key][0]!=null && this.state.result_status[key]<STATUS_RANGES[key][0]){\n      value = STATUS_RANGES[key][0]\n    }else if(STATUS_RANGES[key]!=null\n      && STATUS_RANGES[key][1]!=null && STATUS_RANGES[key][1]<this.state.result_status[key]){\n      value = STATUS_RANGES[key][1]\n    }\n\n    return (value);\n  }\n\n  mouseoverFile(index, e){\n    const strage_index = \"save_\"+index;\n    const savedata_str = localStorage.getItem(strage_index);\n    const savedata = JSON.parse(savedata_str)\n\n    let res = []\n    if(savedata==null || savedata[\"equips\"]==null || Object.keys(savedata[\"equips\"]).length===0){\n      res = \"(装備なし)\"\n\n    }else{\n      for(let equip_part_key of Object.keys(EQUIP_PARTS)){\n        let equip_part = savedata[\"equips\"][equip_part_key]\n        if(equip_part==null)continue\n        res.push(<div key={EQUIP_PARTS[equip_part_key]}>{EQUIP_PARTS[equip_part_key] +\":\"+ equip_part.name}</div>)\n        for(let enchantment_index in equip_part.enchantments){\n          let enchantment_name = equip_part.enchantments[enchantment_index]\n          res.push(<div key={EQUIP_PARTS[equip_part_key]+\"_ENCHANT_\"+enchantment_index} style={{\"paddingLeft\": \"20px\"}}>{enchantment_name}</div>)\n        }\n      }\n    }\n\n    console.log(\"DDDD\", res)\n\n    this.setState({HoverSaveData:<div>{res}</div>});\n\n  }\n\n  mousemoveFile(e){\n    let saveDom = document.querySelector('.saveBalloon');\n    saveDom.style.left = e.pageX+10 + \"px\";\n    saveDom.style.top = e.pageY+10 + \"px\";\n  }\n\n  mouseoutFile(e){\n    this.setState({HoverSaveData:null});\n  }\n\n  render() {\n    return (\n      <div className=\"App\" \n        onClick={this.onClickHandler} \n      >\n        {(this.state.enchant_table!=null)&&this.state.enchant_table}\n        \n        <div className=\"enchantInfoBalloon\"\n          style={(this.state.enchantInfoBalloon!=null) ? {display:\"block\"}: {display:\"none\"}}\n        >{\n          (function (self) {\n            if (self.state.enchantInfoBalloon != null){\n\n              let datas = ENCHANTMENT_COLUMNS.map(column => {\n                let key = column[\"accessor\"]\n                if(Object.keys(self.state.enchantInfoBalloon).indexOf(key)!==-1 \n                  && self.state.enchantInfoBalloon[key]!==0\n                  && key!==\"name\"\n                ){\n                  let value = self.state.enchantInfoBalloon[key]\n                  return <div key={\"ENCHANT_BALLOON\"+column[\"Header\"]}><span>{column[\"Header\"]}</span>: {value}</div>\n                }\n              })\n              \n              if(self.state.enchantInfoBalloon[\"skill\"]!=null){\n                let skills = Object.keys(self.state.enchantInfoBalloon[\"skill\"]).map((skill_name)=>{\n                  return <div key={\"skill_\"+skill_name+\"_balloon\"}>スキル：{skill_name} Lv{self.state.enchantInfoBalloon[\"skill\"][skill_name]}</div>\n                })\n                datas = datas.concat(skills)\n              }\n\n              datas = datas.filter((n) => { return n != null });\n\n              if(datas.length===0){\n                datas.push(<div>(なし)</div>)\n              }\n              return datas\n            }\n          }(this))\n        }</div>\n\n        {(this.state.HoverSaveData!=null)&&(<div className=\"saveBalloon\">{(this.state.HoverSaveData)}</div>)}\n        \n        <header>Craftpia 装備シミュレーター</header>\n        <section className=\"saveSection\">\n          <div>\n            {[...Array(5)].map((key, i) => { \n              return(\n                <div key={\"FILE_\"+i} \n                  onMouseOver={(e)=>{this.mouseoverFile(i, e)}}\n                  onMouseOut={(e)=>{this.mouseoutFile(e)}}\n                  onMouseMove={(e)=>{this.mousemoveFile(e)}}\n                >\n                  <div className=\"fileFrame\">\n                    <input type=\"button\" className=\"fileButton\" value={\"load\"+i} onClick={(e)=>{this.importSavedata(i);this.setConfirm(null)}} />\n                    <input type=\"button\" className=\"saveButton\" value={\"save\"+i} onClick={(e)=>this.setConfirm(i)} />\n                  </div>\n\n                </div>\n              )\n            })}\n          </div>\n\n            {\n              (this.state.confirm_save!=null)&&\n              (<div className=\"confirm\">\n                <span>現在の入力情報を <span style={{fontWeight: \"bold\",color: \"#000\"}}>save{this.state.confirm_save}</span> に上書きます。</span>\n                <input type=\"button\" className=\"saveButton\" value=\"はい\" onClick={(e)=>{this.exportSavedata(e, this.state.confirm_save);this.setConfirm(null)}} />\n                <input type=\"button\" className=\"saveButton\" value=\"いいえ\" onClick={(e)=>this.setConfirm(null)} />\n              </div>)\n\n            }\n        </section>\n        \n        <div className=\"scrollButton\">\n          <div>\n            <div onClick={(e)=>{this.scroll(e, \"saveSection\")}}>入力画面</div>\n            <div onClick={(e)=>{this.scroll(e, \"enchantDetail\")}}>エンチャント詳細</div>\n            <div onClick={(e)=>{this.scroll(e, \"materialSection\")}}>素材ツリー</div>\n          </div>\n        </div>\n\n        <div>\n          <input type=\"button\" className=\"clearButton\" value=\"clear\" onClick={(e)=>this.clearAll(e)} />\n        </div>\n\n        <section className=\"main\">\n          <div>\n            <section className=\"status\">\n              <article className=\"basicStatus\">\n                <div className=\"title\" >基礎ステータス</div>\n                <table>\n                  <thead>\n                    <tr role=\"row\">\n                      <th></th>\n                      <th>基礎ステータス</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {Object.keys(INPUT_STATUS_LABELS).map((key, i) => { \n                      return(\n                        <tr key={key}>\n                          <td>{INPUT_STATUS_LABELS[key]}</td>\n                          <td>\n                            <input type=\"number\" \n                              min=\"0\"\n                              style={{textAlign: \"right\", width: \"80px\"}} \n                              value={this.state.basic_status[key]}\n                              onChange={(e)=>{this.changeBasicStatus(e, key)}}\n                            />\n                          </td>\n                        </tr>\n                      )\n                    })}\n                  </tbody>\n                </table>\n              </article>\n\n              <article className=\"totalStatus\">\n                <div className=\"title\">合計ステータス</div>\n                <table>\n                  <thead>\n                    <tr role=\"row\">\n                      <th></th>\n                      <th>固定値合計</th>\n                      <th>割合合計</th>\n                      <th>特殊合計</th>\n                      <th>合計</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {Object.keys(STATUS_LABELS).map((key, i) => { \n                      if(addition_status[key]!=null){\n                        return(\n                          <tr key={\"RES_STATUS_\"+key}>\n                            <td>{STATUS_LABELS[key]}</td>\n                            <td>\n                              {(addition_status[key]<0)?0:addition_status[key]}\n                              <span className=\"over\">{(addition_status[key]<0)?`(${addition_status[key]})`:\"\"}</span>\n                            </td>\n                            <td>{(multiply_per_status[key]>0)?\"+\":\"\"}{multiply_per_status[key]}%({(multiply_per_sum_status[key]>0)?\"+\":\"\"}{multiply_per_sum_status[key]})</td>\n                            <td>{\n                              (unique_status[key]!=null)?\n                              Object.keys(unique_status[key]).map((key2, j)=>{\n                                if(unique_status[key][key2]!=null && unique_status[key][key2]!==0)\n                                  return `${UNIQUE_LABELS[key2]} ${unique_status[key][key2]}(+${unique_result_status[key][key2]})`\n                              }):\"\"\n                            }</td>\n                            <td>\n                              {(this.state.result_status[key]<0)?0:this.state.result_status[key]}\n                              <span className=\"over\">{(this.state.result_status[key]<0)?`(${this.state.result_status[key]})`:\"\"}</span>\n                            </td>\n                          </tr>\n                        )\n                      }else if(per_status[key]!=null){\n                        return(\n                          <tr key={\"RES_STATUS_\"+key}>\n                            <td>{STATUS_LABELS[key]}</td>\n                            <td></td>\n                            <td>{(per_status[key]>0)?\"+\":\"\"}{per_status[key]}%</td>\n                            <td>{\n                              (unique_status[key]!=null)?\n                              Object.keys(unique_status[key]).map((key2, j)=>{\n                                if(unique_status[key][key2]!=null && unique_status[key][key2]!==0)\n                                  return `${UNIQUE_LABELS[key2]} ${unique_status[key][key2]}(+${unique_result_status[key][key2]})`\n                              }):\"\"\n                            }</td>\n                            <td>\n                              <span className={\n                                ((STATUS_RANGES[key]!=null&&STATUS_RANGES[key][0]!=null)&&(this.state.result_status[key]<STATUS_RANGES[key][0])\n                                ||(STATUS_RANGES[key]!=null&&STATUS_RANGES[key][1]!=null)&&(STATUS_RANGES[key][1]<this.state.result_status[key])) ? 'over' : ''}>\n                              {(this.state.result_status[key]>0)?\"+\":\"\"}\n                              {this.setPerResult(key)}\n                              %\n                              {/* <span className=\"over\"> */}\n                                {\n                                  (STATUS_RANGES[key]!=null&&STATUS_RANGES[key][0]!=null)&&(this.state.result_status[key]<STATUS_RANGES[key][0])?`(${this.state.result_status[key]-STATUS_RANGES[key][0]})`:\"\"\n                                }\n                                {\n                                  (STATUS_RANGES[key]!=null&&STATUS_RANGES[key][1]!=null)&&(STATUS_RANGES[key][1]<this.state.result_status[key])?`(${this.state.result_status[key]-STATUS_RANGES[key][1]})`:\"\"\n                                }\n                              </span>\n                            </td>\n                          </tr>\n                        )\n                      }\n                    })}\n                    \n                    <tr>\n                      <td>スキル</td>\n                      <td colSpan=\"4\">{\n                        \n                          Object.keys(this.state.result_status[\"skills\"]).map((key, i) => {\n                            return (<div key={\"TOTAL_\"+key}>{key}: Lv.{this.state.result_status[\"skills\"][key]}</div>)\n                          }) \n                        }</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </article>\n            </section>\n\n            <section className=\"equipSelectors\">\n              <div className=\"equipTableCell left\">\n                {equip_parts.map((equip_part, i) => {\n                  if (i<=3){\n                    return (\n                      <EquipSelector\n                        ref={this.equipPartRefs[i]}\n                        key={i+\"_equipSelectors\"}\n                        parent={this} \n                        table_index={i}\n                        equip_part={equip_part}\n                        equip_list={equip_part.list}\n                        enchantment_list = {enchantment_list}\n                        frame_position=\"left\"\n                        className=\"equip_selector\"\n                        />\n                    )\n                  }\n                })}\n              </div>\n              <div className=\"equipTableCell right\">\n                {equip_parts.map((equip_part, i) => {\n                  if (i>3){\n                    return (\n                      <EquipSelector\n                        ref={this.equipPartRefs[i]}\n                        key={i+\"_equipSelectors\"}\n                        parent={this} \n                        table_index={i}\n                        equip_part={equip_part}\n                        equip_list={equip_part.list}\n                        enchantment_list = {enchantment_list}\n                        frame_position=\"right\"\n                        className=\"equip_selector\"\n                      />\n                    )\n                  }\n                })}\n              </div>\n            </section>\n          </div>\n        </section>\n        \n        <EnchantDetailSection ref={this.enchantDetailRefs} equip_parts={equip_parts} parent={this} />\n\n        <MaterialTreeSection ref={this.materialTreeRefs} equip_parts={equip_parts} parent={this} />\n        \n        <section className=\"history\">\n          <article>\n            <div>履歴</div>\n            <div className=\"log\">\n              \n              <div>2021/09/29: 実装</div>\n            </div>\n          </article>\n        </section>\n\n        <section className=\"unimplemented\">\n          <article>\n            <div>未実装機能</div>\n            <ul>\n              <li>パッチ v20210930.1502 対応中</li>\n              <li>スマートフォン対応中</li>\n              <li>アイテムを捧げた影響を設定する機能（物理クリティカルなど）</li>\n            </ul>\n          </article>\n        </section>\n\n        <footer>\n          <span>last update: 2021/9/24</span>\n          <span>ゲームver：{Info.gamepatch}</span>\n          <span>情報は <a href=\"https://seesaawiki.jp/craftopia/\">Craftopia/クラフトピア Wiki</a> 様を参考にさせていただいております。</span>\n        </footer>\n      </div>\n    );\n    }\n}\n","import React, {forwardRef, createRef}  from 'react';\n\nimport './materialTreeSection.css';\n\nconst items = require('../assets/item_infos/item.json');\n\nlet MaterialTreeChild = forwardRef((props, ref) => {\n  let materials = props[\"materials\"]\n\n  return (\n    <div>\n      {\n        Object.keys(materials).map((key, i)=>{\n          // console.log(\"\\t\", materials)\n          return (\n            <div key={key}>\n              <div className=\"treeChild\" >\n                <div className=\"treeParent\">\n                  <div>\n                    <span style={{whiteSpace:\"nowrap\"}}>{key}</span>\n                    <span style={{whiteSpace:\"nowrap\"}}>×{materials[key][\"num\"]}</span>\n                  </div>\n                </div>\n                <MaterialTreeChild materials={materials[key][\"materials\"]} />\n              </div>\n            </div>\n          )\n        })\n      }\n    </div>\n  );\n})\n\n\n\n\nlet MaterialTree = forwardRef((props, ref) => {\n  let equipPart = props[\"equip_part\"]\n  let origin_material = {}\n\n  let dom = (\n    <div className=\"materialTree\">\n      <div>{equipPart.title}</div>\n      <div></div>\n      <div>{equipPart.target && equipPart.target.name}</div>\n    </div>)\n\n  if(equipPart.target!=null){\n    let target_equip = equipPart.target;\n\n    // console.log(\"target_equip\", target_equip)\n    let material_tree = {};\n    let _material_tree = {num:1, materials:{}}\n    material_tree[target_equip[\"name\"]] = _material_tree;\n    \n    check_material(target_equip.materials, _material_tree[\"materials\"], target_equip[\"name\"], 1)\n    // console.log(\"material_tree\", material_tree)\n    \n    get_origin_materials(target_equip[\"name\"], _material_tree, origin_material)\n    // console.log(\"origin_material\", origin_material)\n    \n    function check_material(material, material_tree, parent_name, parent_num){\n      if(material!==null){\n        for (let material_name of Object.keys(material)){\n          let _material = items[material_name]\n\n          let total_num = material[material_name]*parent_num\n          \n          let _material_tree = {num: total_num, materials:{}}\n          material_tree[material_name] = _material_tree\n          \n          if(parent_name===material_name)continue;\n          if(_material==null || _material_tree==null)continue;\n          \n          check_material(_material[\"materials\"], _material_tree[\"materials\"], material_name, total_num);\n        }\n      }\n    }\n    \n    function get_origin_materials(name, material, origin_material){\n      if (material[\"materials\"]==null || Object.keys(material[\"materials\"]).length===0){\n        if(origin_material[name]==null){\n          origin_material[name] = material[\"num\"]\n        }else{\n          origin_material[name] += material[\"num\"]\n        }\n      }\n      \n      for (let material_name of Object.keys(material[\"materials\"])){\n        let _material = material[\"materials\"][material_name]\n        get_origin_materials(material_name, _material, origin_material)\n      }\n    }\n    \n    dom = (\n      <>\n        {\n          Object.keys(material_tree).map((key, i)=>{\n            // console.log(\"\\t\", material_tree)\n            return (\n              <div className=\"materialTree\" key={i+\"materialTree\"}>\n                <div className=\"equip_type\">{equipPart.title}</div>\n                <div className=\"treeAncestor\">\n                  <div>\n                    <div className=\"treeParent\">{key}</div>\n                    <MaterialTreeChild materials={material_tree[key][\"materials\"]} />\n                  </div>\n                </div>\n                <div className=\"originMaterial\">\n                  <div>\n                    {\n                      Object.keys(origin_material).map((key, i)=>{\n                        return(<div key={i+\"_originMaterial\"}>{key}×{origin_material[key]}</div>)\n                      })\n                    \n                    }\n                  </div>\n                </div>\n              </div>\n\n            )\n          })\n        }\n      </>\n    );\n  }\n\n  return dom;\n})\n\n\nexport default  forwardRef((props, ref) => {\n  let equip_parts = props[\"equip_parts\"]\n  \n  let equipRefs = equip_parts.map((_, i) => createRef());\n  \n  return (\n    <article className=\"materialSection\">\n      <div className=\"title\">素材ツリー</div>\n      <div className=\"body\">\n        <div className=\"table\">\n          <div className=\"materialTreeHead headTable\">\n            <div>装備箇所</div>\n            <div>素材ツリー</div>\n            <div>原材料</div>\n          </div>\n          {equip_parts.map((equip_part, i) => {\n            return (\n              <MaterialTree ref={equipRefs[i]} key={i} equip_part={equip_part} parent={this} />\n            )\n          })}\n        </div>\n      </div>\n    </article>\n  )\n})\n","import React, {forwardRef}  from 'react';\n\nimport './enchantDetailSection.css';\n\n\nexport default  forwardRef((props, ref) => {\n  let equip_parts = props[\"equip_parts\"]\n  \n  return (\n\n    <article className=\"enchantDetail\">\n      <div>\n        <div className=\"title\">エンチャント詳細</div>\n        <table>\n          <thead>\n            <tr role=\"row\">\n              <th>装備箇所</th>\n              <th>名称</th>\n              <th>エンチャント</th>\n            </tr>\n          </thead>\n          <tbody>\n            {equip_parts.map((equip_part, i) => { \n              return(\n                <tr key={i+\"enchantDetail\"}>\n                  <td>{equip_part.title}</td>\n                  <td className={(equip_part.target)?\"equip_rarelity_\"+equip_part.target[\"rarelity\"]:\"\"}>{equip_part.target && equip_part.target.name}</td>\n                  <td>\n                    {equip_part.enchantments &&\n                      Object.keys(equip_part.enchantments).map((i) => {\n                        let enchantment = equip_part.enchantments[i]\n                        if(enchantment!=null){\n                          return (<div key={i+\"enchantDetail_get\"}>\n                            <span \n                              className={\"enchant_rarelity_\"+enchantment[\"rarelity\"]}\n                            >{enchantment.name}</span>\n                            \n                          ({enchantment[\"備考\"].replace(\"lv.\", \"Lv\")}\n                          {(enchantment[\"備考\"]!==\"\")&&(enchantment[\"ト\"]===\"○\")&&\"、 \"}\n                          {(enchantment[\"ト\"]===\"○\")&&\"トレジャー\"}\n                          )</div>)\n                        }\n                      })\n                    }\n                  </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n    </article>\n  )\n})\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}